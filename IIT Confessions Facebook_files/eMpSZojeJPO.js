/*1359522342,173213213*/

if (self.CavalryLogger) { CavalryLogger.start_js(["Ohj9H"]); }

__d("AjaxRequest",["ErrorUtils","Keys","URI","UserAgent","XHR","copyProperties"],function(a,b,c,d,e,f){var g=b('ErrorUtils'),h=b('Keys'),i=b('URI'),j=b('UserAgent'),k=b('XHR'),l=b('copyProperties');function m(q,r,s){this.xhr=k.create();if(!(r instanceof i))r=new i(r);if(s&&q=='GET'){r.setQueryData(s);}else this._params=s;this.method=q;this.uri=r;this.xhr.open(q,r);}var n=window.XMLHttpRequest&&('withCredentials' in new XMLHttpRequest());m.supportsCORS=function(){return n;};m.ERROR='ar:error';m.TIMEOUT='ar:timeout';m.PROXY_ERROR='ar:proxy error';m.TRANSPORT_ERROR='ar:transport error';m.SERVER_ERROR='ar:http error';m.PARSE_ERROR='ar:parse error';m._inflight=[];function o(){var q=m._inflight;m._inflight=[];q.forEach(function(r){r.abort();});}function p(q){q.onJSON=q.onError=q.onSuccess=null;clearTimeout(q._timer);if(q.xhr&&q.xhr.readyState<4){q.xhr.abort();q.xhr=null;}m._inflight=m._inflight.filter(function(r){return r&&r!=q&&r.xhr&&r.xhr.readyState<4;});}l(m.prototype,{timeout:60000,streamMode:true,prelude:/^for \(;;\);/,status:null,_eol:-1,_call:function(q){if(this[q])this[q](this);},_parseStatus:function(){var q;try{this.status=this.xhr.status;q=this.xhr.statusText;}catch(r){if(this.xhr.readyState>=4){this.errorType=m.TRANSPORT_ERROR;this.errorText=r.message;}return;}if(this.status===0&&!(/^(file|ftp)/.test(this.uri))){this.errorType=m.TRANSPORT_ERROR;}else if(this.status>=100&&this.status<200){this.errorType=m.PROXY_ERROR;}else if(this.status>=200&&this.status<300){return;}else if(this.status>=300&&this.status<400){this.errorType=m.PROXY_ERROR;}else if(this.status>=400&&this.status<500){this.errorType=m.SERVER_ERROR;}else if(this.status>=500&&this.status<600){this.errorType=m.PROXY_ERROR;}else if(this.status==1223){return;}else if(this.status>=12001&&this.status<=12156){this.errorType=m.TRANSPORT_ERROR;}else{q='unrecognized status code: '+this.status;this.errorType=m.ERROR;}if(!this.errorText)this.errorText=q;},_parseResponse:function(){var q,r=this.xhr.readyState;try{q=this.xhr.responseText||'';}catch(s){if(r>=4){this.errorType=m.ERROR;this.errorText='responseText not available - '+s.message;}return;}while(this.xhr){var t=this._eol+1,u=this.streamMode?q.indexOf('\n',t):q.length;if(u<0&&r==4)u=q.length;if(u<=this._eol)break;var v=q;if(this.streamMode)v=q.substr(t,u-t).replace(/^\s*|\s*$/g,'');if(t===0&&this.prelude)if(this.prelude.test(v))v=v.replace(this.prelude,'');this._eol=u;if(v){try{this.json=JSON.parse(v);}catch(s){var w=(/(<body[\S\s]+?<\/body>)/i).test(q)&&RegExp.$1,x={message:s.message,'char':t,excerpt:((t===0&&w)||v).substr(512)};this.errorType=m.PARSE_ERROR;this.errorText='parse error - '+JSON.stringify(x);return;}g.applyWithGuard(this._call,this,['onJSON']);}}},_onReadyState:function(){var q=this.xhr&&this.xhr.readyState||0;if(this.status==null&&q>=2)this._parseStatus();if(!this.errorType&&this.status!=null)if((q==3&&this.streamMode)||q==4)this._parseResponse();if(this.errorType||q==4){this._time=Date.now()-this._sentAt;this._call(!this.errorType?'onSuccess':'onError');p(this);}},send:function(q){this.xhr.onreadystatechange=function(){g.applyWithGuard(this._onReadyState,this,arguments);}.bind(this);var r=this.timeout;if(r)this._timer=setTimeout((function(){this.errorType=m.TIMEOUT;this.errorText='timeout';this._time=Date.now()-this._sentAt;this._call('onError');p(this);}).bind(this),r,false);m._inflight.push(this);if(this.method=='POST')this.xhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded');this._sentAt=Date.now();this.xhr.send(q?i.implodeQuery(q):'');},abort:function(){p(this);},toString:function(){var q='[AjaxRequest readyState='+this.xhr.readyState;if(this.errorType)q+=' errorType='+this.errorType+' ('+this.errorText+')';return q+']';},toJSON:function(){var q={json:this.json,status:this.status,errorType:this.errorType,errorText:this.errorText,time:this._time};if(this.errorType)q.uri=this.uri;for(var r in q)if(q[r]==null)delete q[r];return q;}});if(window.addEventListener&&j.firefox())window.addEventListener('keydown',function(event){if(event.keyCode===h.ESC)event.prevent();},false);if(window.attachEvent)window.attachEvent('onunload',o);e.exports=m;});
__d("FBAjaxRequest",["$","AjaxRequest","copyProperties","XHR"],function(a,b,c,d,e,f){var g=b('$'),h=b('AjaxRequest'),i=b('copyProperties'),j=b('XHR');function k(l,m,n){n=i(j.getAsyncParams(l),n);var o=new h(l,m,n);o.streamMode=false;var p=o._call;o._call=function(q){if(q=='onJSON'&&this.json){if(this.json.error){this.errorType=h.SERVER_ERROR;this.errorText='AsyncResponse error: '+this.json.error;}this.json=this.json.payload;}p.apply(this,arguments);};o.ajaxReqSend=o.send;o.send=function(q){this.ajaxReqSend(i(q,n));};return o;}e.exports=k;});
__d("CallbackManagerController",["ErrorUtils","copyProperties"],function(a,b,c,d,e,f){var g=b('ErrorUtils'),h=b('copyProperties'),i=function(j){this._pendingIDs=[];this._allRequests=[undefined];this._callbackArgHandler=j;};h(i.prototype,{executeOrEnqueue:function(j,k,l){l=l||{};var m=this._attemptCallback(k,j,l);if(m)return 0;this._allRequests.push({fn:k,request:j,options:l});var n=this._allRequests.length-1;this._pendingIDs.push(n);return n;},unsubscribe:function(j){delete this._allRequests[j];},reset:function(){this._allRequests=[];},getRequest:function(j){return this._allRequests[j];},runPossibleCallbacks:function(){var j=this._pendingIDs;this._pendingIDs=[];var k=[];j.forEach(function(l){var m=this._allRequests[l];if(!m)return;if(this._callbackArgHandler(m.request,m.options)){k.push(l);}else this._pendingIDs.push(l);}.bind(this));k.forEach(function(l){var m=this._allRequests[l];delete this._allRequests[l];this._attemptCallback(m.fn,m.request,m.options);}.bind(this));},_attemptCallback:function(j,k,l){var m=this._callbackArgHandler(k,l);if(m){var n={ids:k};g.applyWithGuard(j,n,m);}return !!m;}});e.exports=i;});
__d("KeyedCallbackManager",["CallbackManagerController","ErrorUtils","copyProperties"],function(a,b,c,d,e,f){var g=b('CallbackManagerController'),h=b('ErrorUtils'),i=b('copyProperties'),j=function(){this._resources={};this._controller=new g(this._constructCallbackArg.bind(this));};i(j.prototype,{executeOrEnqueue:function(k,l){if(!(k instanceof Array)){var m=k,n=l;k=[k];l=function(o){n(o[m]);};}k=k.filter(function(o){var p=(o!==null&&o!==undefined);if(!p)h.applyWithGuard(function(){throw new Error('KeyedCallbackManager.executeOrEnqueue: key '+JSON.stringify(o)+' is invalid');});return p;});return this._controller.executeOrEnqueue(k,l);},unsubscribe:function(k){this._controller.unsubscribe(k);},reset:function(){this._controller.reset();this._resources={};},getUnavailableResources:function(k){var l=this._controller.getRequest(k),m=[];if(l)m=l.request.filter(function(n){return !this._resources[n];}.bind(this));return m;},addResourcesAndExecute:function(k){i(this._resources,k);this._controller.runPossibleCallbacks();},setResource:function(k,l){this._resources[k]=l;this._controller.runPossibleCallbacks();},getResource:function(k){return this._resources[k];},getAllResources:function(){return this._resources;},dumpResources:function(){var k={};for(var l in this._resources){var m=this._resources[l];if(typeof m==='object')m=i({},m);k[l]=m;}return k;},_constructCallbackArg:function(k){var l={};for(var m=0;m<k.length;m++){var n=k[m],o=this._resources[n];if(typeof o=='undefined')return false;l[n]=o;}return [l];}});e.exports=j;});
__d("BaseAsyncLoader",["KeyedCallbackManager","copyProperties"],function(a,b,c,d,e,f){var g=b('KeyedCallbackManager'),h=b('copyProperties'),i={};function j(l,m,n){var o=new g(),p=false,q=[];function r(){if(!q.length||p)return;p=true;t.defer();}function s(w){p=false;w.forEach(o.unsubscribe.bind(o));r();}function t(){var w={},x=[];q=q.filter(function(z){var aa=o.getUnavailableResources(z);if(aa.length){aa.forEach(function(ba){w[ba]=true;});x.push(z);return true;}return false;});var y=Object.keys(w);if(y.length){n(l,y,x,u.curry(x),v.curry(x));}else p=false;}function u(w,x){var y=x.payload[m]||x.payload;o.addResourcesAndExecute(y);s(w);}function v(w){s(w);}return {get:function(w,x){var y=o.executeOrEnqueue(w,x),z=o.getUnavailableResources(y);if(z.length){q.push(y);r();}},getCachedKeys:function(){return Object.keys(o.getAllResources());},getNow:function(w){return o.getResource(w)||null;},set:function(w){o.addResourcesAndExecute(w);}};}function k(l,m){throw ('BaseAsyncLoader can\'t be instantiated');}h(k.prototype,{_getLoader:function(){if(!i[this._endpoint])i[this._endpoint]=j(this._endpoint,this._type,this.send);return i[this._endpoint];},get:function(l,m){return this._getLoader().get(l,m);},getCachedKeys:function(){return this._getLoader().getCachedKeys();},getNow:function(l){return this._getLoader().getNow(l);},reset:function(){i[this._endpoint]=null;},set:function(l){this._getLoader().set(l);}});e.exports=k;});
__d("AjaxLoader",["copyProperties","FBAjaxRequest","BaseAsyncLoader"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('FBAjaxRequest'),i=b('BaseAsyncLoader');function j(k,l){this._endpoint=k;this._type=l;}g(j.prototype,i.prototype);j.prototype.send=function(k,l,m,n,o){var p=new h('GET',k,{ids:l});p.onJSON=function(q){n({payload:q.json});};p.onError=o;p.send();};e.exports=j;});
__d("ShortProfiles",["ArbiterMixin","AjaxLoader","Env","FBAjaxRequest","JSLogger","copyProperties"],function(a,b,c,d,e,f){var g=b('ArbiterMixin'),h=b('AjaxLoader'),i=b('Env'),j=b('FBAjaxRequest'),k=b('JSLogger'),l=b('copyProperties'),m='/ajax/chat/user_info.php',n='/ajax/chat/user_info_all.php',o=new h(m,'profiles'),p=false,q=k.create('short_profiles');function r(){if(!p){q.log('fetch_all');p=true;var u=new j('GET',n,{viewer:i.user});u.onJSON=function(v){o.set(v.json);t.inform('updated');};u.send();}}function s(u){return JSON.parse(JSON.stringify(u));}var t={};l(t,g,{get:function(u,v){this.getMulti([u],function(w){v(w[u],u);});},getMulti:function(u,v){function w(x){v(s(x));}o.get(u,w);},getNow:function(u){return s(o.getNow(u)||null);},getCachedProfileIDs:function(){return o.getCachedKeys();},hasAll:function(){return p;},fetchAll:function(){r();},set:function(u,v){var w={};w[u]=v;this.setMulti(w);},setMulti:function(u){o.set(s(u));}});e.exports=t;});
__d("UFITrackingNodes",[],function(a,b,c,d,e,f){var g={types:{USER_NAME:2,LIKE_LINK:5,UNLIKE_LINK:6,SHARE_LINK:17,USER_MESSAGE:18,SOURCE:21,BLINGBOX:22,VIEW_ALL_COMMENTS:24,COMMENT:25,COMMENT_LINK:26,SMALL_ACTOR_PHOTO:27,ADD_COMMENT_BOX:34,UFI:36},TYPE_TO_CHAR_SHIFT_VAL:57,encodeTrackingInfo:function(h,i){var j=String.fromCharCode(h+g.TYPE_TO_CHAR_SHIFT_VAL);if(i)j+=String.fromCharCode(48+Math.min(i,10)-1);return j;},decodeTrackingInfo:function(h){return h.charCodeAt(0)-g.TYPE_TO_CHAR_SHIFT_VAL;},getTrackingInfo:function(h,i){return '{"tn":"'+g.encodeTrackingInfo(h,i)+'"}';}};e.exports=g;});
__d("EmoteTypes",[],function(a,b,c,d,e,f){f.TEXT='text';f.EMOTE='emote';f.EMOTE_FBID='emote_fbid';});
__d("EmoticonsList",[],function(a,b,c,d,e,f){e.exports={emotes:{":)":"smile",":-)":"smile",":]":"smile","=)":"smile",":(":"frown",":-(":"frown",":[":"frown","=(":"frown",":P":"tongue",":-P":"tongue",":-p":"tongue",":p":"tongue","=P":"tongue","=D":"grin",":-D":"grin",":D":"grin",":o":"gasp",":-O":"gasp",":O":"gasp",":-o":"gasp",";)":"wink",";-)":"wink","8)":"glasses","8-)":"glasses","B)":"glasses","B-)":"glasses","B|":"sunglasses","8-|":"sunglasses","8|":"sunglasses","B-|":"sunglasses",">:(":"grumpy",">:-(":"grumpy",":/":"unsure",":-/":"unsure",":\\":"unsure",":-\\":"unsure",":'(":"cry","3:)":"devil","3:-)":"devil","O:)":"angel","O:-)":"angel",":*":"kiss",":-*":"kiss","<3":"heart","&lt;3":"heart","â™¥":"heart","^_^":"kiki","-_-":"squint","o.O":"confused","O.o":"confused_rev",">:o":"upset",">:O":"upset",">:-O":"upset",">:-o":"upset",">_<":"upset",">.<":"upset",":v":"pacman",":|]":"robot",":3":"colonthree","<(\")":"penguin",":putnam:":"putnam","(^^^)":"shark",":42:":"42","(y)":"like",":like:":"like","(Y)":"like"},symbols:{smile:":)",frown:":(",tongue:":P",grin:"=D",gasp:":o",wink:";)",glasses:"8)",sunglasses:"B|",grumpy:">:(",unsure:":/",cry:":'(",devil:"3:)",angel:"O:)",kiss:":*",heart:"<3",kiki:"^_^",squint:"-_-",confused:"o.O",confused_rev:"O.o",upset:">:o",pacman:":v",robot:":|]",colonthree:":3",penguin:"<(\")",putnam:":putnam:",shark:"(^^^)","42":":42:",like:"(y)"},regexp:/(?:^|[\s'".])(:\)|:\-\)|:\]|=\)|:\(|:\-\(|:\[|=\(|:P|:\-P|:\-p|:p|=P|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)|;\-\)|8\)|8\-\)|B\)|B\-\)|B\||8\-\||8\||B\-\||>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|:'\(|3:\)|3:\-\)|O:\)|O:\-\)|:\*|:\-\*|<3|&lt;3|\u2665|\^_\^|\-_\-|o\.O|O\.o|>:o|>:O|>:\-O|>:\-o|>_<|>\.<|:v|:\|\]|:3|<\("\)|:putnam:|\(\^\^\^\)|:42:|\(y\)|:like:|\(Y\))(?:[\s'".,!?]|<br>|$)/};});
__d("createEmoteTokenizer",["EmoteTypes"],function(a,b,c,d,e,f){var g=b('EmoteTypes'),h=40;function i(j){return function(k){var l=k,m=[],n=h;while(n--){var o=j.regexp.exec(l);if(!o||!o.length)break;var p=o[1],q=l.indexOf(p),r=l.substring(0,q);if(r)m.push({type:g.TEXT,text:r});var s=j.emotes[p];if(s){m.push({type:g.EMOTE,text:p,emote:s});}else m.push({type:g.TEXT,text:p});l=l.substring(q+p.length);}if(l)m.push({type:g.TEXT,text:l});return m;};}e.exports=i;});
__d("emoteFBIDTokenizer",["EmoteTypes"],function(a,b,c,d,e,f){var g=b('EmoteTypes'),h=/\[\[([a-z\d\.]+)\]\]/gi;function i(j){return j.split(h).map(function(k,l){if(l%2===0){return {type:g.TEXT,text:k};}else return {type:g.EMOTE_FBID,text:'[['+k+']]',value:k};});}e.exports=i;});
__d("Emote",["DOM","EmoteTypes","EmoticonsList","createEmoteTokenizer","emoteFBIDTokenizer","flattenArray","htmlize"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('EmoteTypes'),i=b('EmoticonsList'),j=b('createEmoteTokenizer'),k=b('emoteFBIDTokenizer'),l=b('flattenArray'),m=b('htmlize'),n=j(i),o=e.exports={};o.htmlEmoteWithoutFBID=function(p,q){if(typeof q!='function')q=m;return l(n(p).map(function(r){if(r.type===h.TEXT){return q(r.text);}else if(r.type===h.EMOTE)return ['<span class="emoticon_text" aria-hidden="true">',r.text,'</span>',g.create('span',{},g.create('span',{className:'emoticon emoticon_'+r.emote})).innerHTML];})).join('');};o.htmlEmote=function(p,q){if(typeof q!='function')q=m;return l(k(p).map(function(r){if(r.type===h.TEXT){return o.htmlEmoteWithoutFBID(r.text,q);}else if(r.type===h.EMOTE_FBID)return ['<span class="emoticon_text" aria-hidden="true">',r.text,'</span>',g.create('span',{},g.create('img',{alt:r.text,className:'emoticon emoticon_custom',src:window.location.protocol+'//graph.facebook.com/'+encodeURIComponent(r.value)+'/picture'})).innerHTML];})).join('');};});
__d("SupportedEmoji",["cx"],function(a,b,c,d,e,f){var g=b('cx');e.exports={utf16Regex:/[\u203C\u2049\u2100-\u21FF\u2300-\u27FF\u2900-\u29FF\u2B00-\u2BFF\u3000-\u30FF\u3200-\u32FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDEFF]/,emoji:{127744:"-cx-PRIVATE-fbEmoji__icon_1f300",127746:"-cx-PRIVATE-fbEmoji__icon_1f302",127754:"-cx-PRIVATE-fbEmoji__icon_1f30a",127769:"-cx-PRIVATE-fbEmoji__icon_1f319",127775:"-cx-PRIVATE-fbEmoji__icon_1f31f",127793:"-cx-PRIVATE-fbEmoji__icon_1f331",127796:"-cx-PRIVATE-fbEmoji__icon_1f334",127797:"-cx-PRIVATE-fbEmoji__icon_1f335",127799:"-cx-PRIVATE-fbEmoji__icon_1f337",127800:"-cx-PRIVATE-fbEmoji__icon_1f338",127801:"-cx-PRIVATE-fbEmoji__icon_1f339",127802:"-cx-PRIVATE-fbEmoji__icon_1f33a",127803:"-cx-PRIVATE-fbEmoji__icon_1f33b",127806:"-cx-PRIVATE-fbEmoji__icon_1f33e",127808:"-cx-PRIVATE-fbEmoji__icon_1f340",127809:"-cx-PRIVATE-fbEmoji__icon_1f341",127810:"-cx-PRIVATE-fbEmoji__icon_1f342",127811:"-cx-PRIVATE-fbEmoji__icon_1f343",127818:"-cx-PRIVATE-fbEmoji__icon_1f34a",127822:"-cx-PRIVATE-fbEmoji__icon_1f34e",127827:"-cx-PRIVATE-fbEmoji__icon_1f353",127828:"-cx-PRIVATE-fbEmoji__icon_1f354",127864:"-cx-PRIVATE-fbEmoji__icon_1f378",127866:"-cx-PRIVATE-fbEmoji__icon_1f37a",127873:"-cx-PRIVATE-fbEmoji__icon_1f381",127875:"-cx-PRIVATE-fbEmoji__icon_1f383",127876:"-cx-PRIVATE-fbEmoji__icon_1f384",127877:"-cx-PRIVATE-fbEmoji__icon_1f385",127880:"-cx-PRIVATE-fbEmoji__icon_1f388",127881:"-cx-PRIVATE-fbEmoji__icon_1f389",127885:"-cx-PRIVATE-fbEmoji__icon_1f38d",127886:"-cx-PRIVATE-fbEmoji__icon_1f38e",127887:"-cx-PRIVATE-fbEmoji__icon_1f38f",127888:"-cx-PRIVATE-fbEmoji__icon_1f390",127891:"-cx-PRIVATE-fbEmoji__icon_1f393",127925:"-cx-PRIVATE-fbEmoji__icon_1f3b5",127926:"-cx-PRIVATE-fbEmoji__icon_1f3b6",127932:"-cx-PRIVATE-fbEmoji__icon_1f3bc",128013:"-cx-PRIVATE-fbEmoji__icon_1f40d",128014:"-cx-PRIVATE-fbEmoji__icon_1f40e",128017:"-cx-PRIVATE-fbEmoji__icon_1f411",128018:"-cx-PRIVATE-fbEmoji__icon_1f412",128020:"-cx-PRIVATE-fbEmoji__icon_1f414",128023:"-cx-PRIVATE-fbEmoji__icon_1f417",128024:"-cx-PRIVATE-fbEmoji__icon_1f418",128025:"-cx-PRIVATE-fbEmoji__icon_1f419",128026:"-cx-PRIVATE-fbEmoji__icon_1f41a",128027:"-cx-PRIVATE-fbEmoji__icon_1f41b",128031:"-cx-PRIVATE-fbEmoji__icon_1f41f",128032:"-cx-PRIVATE-fbEmoji__icon_1f420",128033:"-cx-PRIVATE-fbEmoji__icon_1f421",128037:"-cx-PRIVATE-fbEmoji__icon_1f425",128038:"-cx-PRIVATE-fbEmoji__icon_1f426",128039:"-cx-PRIVATE-fbEmoji__icon_1f427",128040:"-cx-PRIVATE-fbEmoji__icon_1f428",128041:"-cx-PRIVATE-fbEmoji__icon_1f429",128043:"-cx-PRIVATE-fbEmoji__icon_1f42b",128044:"-cx-PRIVATE-fbEmoji__icon_1f42c",128045:"-cx-PRIVATE-fbEmoji__icon_1f42d",128046:"-cx-PRIVATE-fbEmoji__icon_1f42e",128047:"-cx-PRIVATE-fbEmoji__icon_1f42f",128048:"-cx-PRIVATE-fbEmoji__icon_1f430",128049:"-cx-PRIVATE-fbEmoji__icon_1f431",128051:"-cx-PRIVATE-fbEmoji__icon_1f433",128052:"-cx-PRIVATE-fbEmoji__icon_1f434",128053:"-cx-PRIVATE-fbEmoji__icon_1f435",128054:"-cx-PRIVATE-fbEmoji__icon_1f436",128055:"-cx-PRIVATE-fbEmoji__icon_1f437",128056:"-cx-PRIVATE-fbEmoji__icon_1f438",128057:"-cx-PRIVATE-fbEmoji__icon_1f439",128058:"-cx-PRIVATE-fbEmoji__icon_1f43a",128059:"-cx-PRIVATE-fbEmoji__icon_1f43b",128062:"-cx-PRIVATE-fbEmoji__icon_1f43e",128064:"-cx-PRIVATE-fbEmoji__icon_1f440",128066:"-cx-PRIVATE-fbEmoji__icon_1f442",128067:"-cx-PRIVATE-fbEmoji__icon_1f443",128068:"-cx-PRIVATE-fbEmoji__icon_1f444",128069:"-cx-PRIVATE-fbEmoji__icon_1f445",128070:"-cx-PRIVATE-fbEmoji__icon_1f446",128071:"-cx-PRIVATE-fbEmoji__icon_1f447",128072:"-cx-PRIVATE-fbEmoji__icon_1f448",128073:"-cx-PRIVATE-fbEmoji__icon_1f449",128074:"-cx-PRIVATE-fbEmoji__icon_1f44a",128075:"-cx-PRIVATE-fbEmoji__icon_1f44b",128076:"-cx-PRIVATE-fbEmoji__icon_1f44c",128077:"-cx-PRIVATE-fbEmoji__icon_1f44d",128078:"-cx-PRIVATE-fbEmoji__icon_1f44e",128079:"-cx-PRIVATE-fbEmoji__icon_1f44f",128080:"-cx-PRIVATE-fbEmoji__icon_1f450",128102:"-cx-PRIVATE-fbEmoji__icon_1f466",128103:"-cx-PRIVATE-fbEmoji__icon_1f467",128104:"-cx-PRIVATE-fbEmoji__icon_1f468",128105:"-cx-PRIVATE-fbEmoji__icon_1f469",128107:"-cx-PRIVATE-fbEmoji__icon_1f46b",128110:"-cx-PRIVATE-fbEmoji__icon_1f46e",128111:"-cx-PRIVATE-fbEmoji__icon_1f46f",128113:"-cx-PRIVATE-fbEmoji__icon_1f471",128114:"-cx-PRIVATE-fbEmoji__icon_1f472",128115:"-cx-PRIVATE-fbEmoji__icon_1f473",128116:"-cx-PRIVATE-fbEmoji__icon_1f474",128117:"-cx-PRIVATE-fbEmoji__icon_1f475",128118:"-cx-PRIVATE-fbEmoji__icon_1f476",128119:"-cx-PRIVATE-fbEmoji__icon_1f477",128120:"-cx-PRIVATE-fbEmoji__icon_1f478",128123:"-cx-PRIVATE-fbEmoji__icon_1f47b",128124:"-cx-PRIVATE-fbEmoji__icon_1f47c",128125:"-cx-PRIVATE-fbEmoji__icon_1f47d",128126:"-cx-PRIVATE-fbEmoji__icon_1f47e",128127:"-cx-PRIVATE-fbEmoji__icon_1f47f",128128:"-cx-PRIVATE-fbEmoji__icon_1f480",128130:"-cx-PRIVATE-fbEmoji__icon_1f482",128131:"-cx-PRIVATE-fbEmoji__icon_1f483",128133:"-cx-PRIVATE-fbEmoji__icon_1f485",128139:"-cx-PRIVATE-fbEmoji__icon_1f48b",128143:"-cx-PRIVATE-fbEmoji__icon_1f48f",128144:"-cx-PRIVATE-fbEmoji__icon_1f490",128145:"-cx-PRIVATE-fbEmoji__icon_1f491",128147:"-cx-PRIVATE-fbEmoji__icon_1f493",128148:"-cx-PRIVATE-fbEmoji__icon_1f494",128150:"-cx-PRIVATE-fbEmoji__icon_1f496",128151:"-cx-PRIVATE-fbEmoji__icon_1f497",128152:"-cx-PRIVATE-fbEmoji__icon_1f498",128153:"-cx-PRIVATE-fbEmoji__icon_1f499",128154:"-cx-PRIVATE-fbEmoji__icon_1f49a",128155:"-cx-PRIVATE-fbEmoji__icon_1f49b",128156:"-cx-PRIVATE-fbEmoji__icon_1f49c",128157:"-cx-PRIVATE-fbEmoji__icon_1f49d",128162:"-cx-PRIVATE-fbEmoji__icon_1f4a2",128164:"-cx-PRIVATE-fbEmoji__icon_1f4a4",128166:"-cx-PRIVATE-fbEmoji__icon_1f4a6",128168:"-cx-PRIVATE-fbEmoji__icon_1f4a8",128169:"-cx-PRIVATE-fbEmoji__icon_1f4a9",128170:"-cx-PRIVATE-fbEmoji__icon_1f4aa",128187:"-cx-PRIVATE-fbEmoji__icon_1f4bb",128189:"-cx-PRIVATE-fbEmoji__icon_1f4bd",128190:"-cx-PRIVATE-fbEmoji__icon_1f4be",128191:"-cx-PRIVATE-fbEmoji__icon_1f4bf",128192:"-cx-PRIVATE-fbEmoji__icon_1f4c0",128222:"-cx-PRIVATE-fbEmoji__icon_1f4de",128224:"-cx-PRIVATE-fbEmoji__icon_1f4e0",128241:"-cx-PRIVATE-fbEmoji__icon_1f4f1",128242:"-cx-PRIVATE-fbEmoji__icon_1f4f2",128250:"-cx-PRIVATE-fbEmoji__icon_1f4fa",128276:"-cx-PRIVATE-fbEmoji__icon_1f514",128293:"-cx-PRIVATE-fbEmoji__icon_1f525",128513:"-cx-PRIVATE-fbEmoji__icon_1f601",128514:"-cx-PRIVATE-fbEmoji__icon_1f602",128515:"-cx-PRIVATE-fbEmoji__icon_1f603",128516:"-cx-PRIVATE-fbEmoji__icon_1f604",128518:"-cx-PRIVATE-fbEmoji__icon_1f606",128521:"-cx-PRIVATE-fbEmoji__icon_1f609",128523:"-cx-PRIVATE-fbEmoji__icon_1f60b",128524:"-cx-PRIVATE-fbEmoji__icon_1f60c",128525:"-cx-PRIVATE-fbEmoji__icon_1f60d",128527:"-cx-PRIVATE-fbEmoji__icon_1f60f",128530:"-cx-PRIVATE-fbEmoji__icon_1f612",128531:"-cx-PRIVATE-fbEmoji__icon_1f613",128532:"-cx-PRIVATE-fbEmoji__icon_1f614",128534:"-cx-PRIVATE-fbEmoji__icon_1f616",128536:"-cx-PRIVATE-fbEmoji__icon_1f618",128538:"-cx-PRIVATE-fbEmoji__icon_1f61a",128540:"-cx-PRIVATE-fbEmoji__icon_1f61c",128541:"-cx-PRIVATE-fbEmoji__icon_1f61d",128542:"-cx-PRIVATE-fbEmoji__icon_1f61e",128544:"-cx-PRIVATE-fbEmoji__icon_1f620",128545:"-cx-PRIVATE-fbEmoji__icon_1f621",128546:"-cx-PRIVATE-fbEmoji__icon_1f622",128547:"-cx-PRIVATE-fbEmoji__icon_1f623",128548:"-cx-PRIVATE-fbEmoji__icon_1f624",128549:"-cx-PRIVATE-fbEmoji__icon_1f625",128552:"-cx-PRIVATE-fbEmoji__icon_1f628",128553:"-cx-PRIVATE-fbEmoji__icon_1f629",128554:"-cx-PRIVATE-fbEmoji__icon_1f62a",128555:"-cx-PRIVATE-fbEmoji__icon_1f62b",128557:"-cx-PRIVATE-fbEmoji__icon_1f62d",128560:"-cx-PRIVATE-fbEmoji__icon_1f630",128561:"-cx-PRIVATE-fbEmoji__icon_1f631",128562:"-cx-PRIVATE-fbEmoji__icon_1f632",128563:"-cx-PRIVATE-fbEmoji__icon_1f633",128565:"-cx-PRIVATE-fbEmoji__icon_1f635",128567:"-cx-PRIVATE-fbEmoji__icon_1f637",128568:"-cx-PRIVATE-fbEmoji__icon_1f638",128569:"-cx-PRIVATE-fbEmoji__icon_1f639",128570:"-cx-PRIVATE-fbEmoji__icon_1f63a",128571:"-cx-PRIVATE-fbEmoji__icon_1f63b",128572:"-cx-PRIVATE-fbEmoji__icon_1f63c",128573:"-cx-PRIVATE-fbEmoji__icon_1f63d",128575:"-cx-PRIVATE-fbEmoji__icon_1f63f",128576:"-cx-PRIVATE-fbEmoji__icon_1f640",128587:"-cx-PRIVATE-fbEmoji__icon_1f64b",128588:"-cx-PRIVATE-fbEmoji__icon_1f64c",128589:"-cx-PRIVATE-fbEmoji__icon_1f64d",128591:"-cx-PRIVATE-fbEmoji__icon_1f64f",9757:"-cx-PRIVATE-fbEmoji__icon_261d",9786:"-cx-PRIVATE-fbEmoji__icon_263a",9889:"-cx-PRIVATE-fbEmoji__icon_26a1",9924:"-cx-PRIVATE-fbEmoji__icon_26c4",9994:"-cx-PRIVATE-fbEmoji__icon_270a",9995:"-cx-PRIVATE-fbEmoji__icon_270b",9996:"-cx-PRIVATE-fbEmoji__icon_270c",9728:"-cx-PRIVATE-fbEmoji__icon_2600",9729:"-cx-PRIVATE-fbEmoji__icon_2601",9748:"-cx-PRIVATE-fbEmoji__icon_2614",9749:"-cx-PRIVATE-fbEmoji__icon_2615",10024:"-cx-PRIVATE-fbEmoji__icon_2728",10084:"-cx-PRIVATE-fbEmoji__icon_2764"}};});
__d("Utf16",[],function(a,b,c,d,e,f){var g={decode:function(h){switch(h.length){case 1:return h.charCodeAt(0);case 2:return 65536|((h.charCodeAt(0)-55296)*1024)|(h.charCodeAt(1)-56320);}},encode:function(h){if(h<65536){return String.fromCharCode(h);}else return String.fromCharCode(55296+((h-65536)>>10))+String.fromCharCode(56320+(h%1024));}};e.exports=g;});
__d("Emoji",["cx","DOM","Emote","SupportedEmoji","htmlize","Utf16"],function(a,b,c,d,e,f){var g=b('cx'),h=b('DOM'),i=b('Emote'),j=b('SupportedEmoji'),k=b('htmlize'),l=b('Utf16'),m=40,n=e.exports={htmlEmojiAndEmote:function(o,p){return n.htmlEmoji(o,function(q){return i.htmlEmote(q,p);});},htmlEmoji:function(o,p){if(typeof p!='function')p=k;var q=o,r=[],s=m;while(s--){var t=j.utf16Regex.exec(q);if(!t||!t.length)break;var u=t[0],v=q.indexOf(u);r.push(p(q.substring(0,v)));var w=l.decode(u);if(j.emoji[w]){var x="-cx-PRIVATE-fbEmoji__icon -cx-PRIVATE-fbEmoji__size_16"+' '+j.emoji[w],y=h.create('span',{className:x});r.push(h.create('span',{},y).innerHTML);}else r.push(p(u));q=q.substring(v+u.length);}r.push(p(q));return r.join('');}};});
__d("MercuryServerDispatcher",["AsyncRequest","FBAjaxRequest","Env","JSLogger","Run","URI","areObjectsEqual","copyProperties","debounceAcrossTransitions"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('FBAjaxRequest'),i=b('Env'),j=b('JSLogger'),k=b('Run'),l=b('URI'),m=b('areObjectsEqual'),n=b('copyProperties'),o=b('debounceAcrossTransitions'),p={},q=j.create('mercury_dispatcher'),r=false,s={IMMEDIATE:'immediate',IDEMPOTENT:'idempotent',BATCH_SUCCESSIVE:'batch-successive',BATCH_SUCCESSIVE_UNIQUE:'batch-successive-unique',BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:'batch-successive-piggyback-retry',BATCH_DEFERRED_MULTI:'batch-deferred-multi',BATCH_CONDITIONAL:'batch-conditional',registerEndpoints:function(w){for(var x in w){var y=w[x];p[x]=new t(x,y);}},trySend:function(w,x,y){p[w].trySend(x,y);}};function t(w,x){var y=x.mode||s.IMMEDIATE;switch(y){case s.IMMEDIATE:case s.IDEMPOTENT:case s.BATCH_SUCCESSIVE:case s.BATCH_SUCCESSIVE_UNIQUE:case s.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:case s.BATCH_DEFERRED_MULTI:case s.BATCH_CONDITIONAL:break;default:throw new Error('Invalid MercuryServerDispatcher mode '+y);}this._endpoint=w;this._mode=y;this._combineData=x.batch_function;this._combineDataIf=x.batch_if;this._batchSizeLimit=x.batch_size_limit;this._batches=[];this._handler=x.handler;this._errorHandler=x.error_handler;this._transportErrorHandler=x.transport_error_handler||x.error_handler;this._connectionRetries=x.connection_retries||0;this._timeoutHandler=x.timeout_handler;this._timeout=x.timeout;this._serverDialogCancelHandler=x.server_dialog_cancel_handler||x.error_handler;this._deferredSend=o(this._batchSend,0,this);if(this._batchSizeLimit)k.onUnload(function(){q.bump('unload_batches_count_'+v(this._batches.length));}.bind(this));}n(t.prototype,{_inFlight:0,_handler:null,_errorHandler:null,_transportErrorHandler:null,_timeoutHandler:null,_timeout:null,_serverDialogCancelHandler:null,_combineData:null,trySend:function(w,x){if(r)return;if(typeof w=='undefined')w=null;var y=x||this._mode;if(y==s.IMMEDIATE){this._send(w);}else if(y==s.IDEMPOTENT){if(!this._inFlight)this._send(w);}else if(y==s.BATCH_SUCCESSIVE||y==s.BATCH_SUCCESSIVE_UNIQUE){if(!this._inFlight){this._send(w);}else this._batchData(w);}else if(y==s.BATCH_CONDITIONAL){var z=this._batches[0]&&this._batches[0].getData();if(this._inFlight&&(this._combineDataIf(this._pendingRequestData,w)||this._combineDataIf(z,w))){this._batchData(w);}else this._send(w);}else if(y==s.BATCH_DEFERRED_MULTI){this._batchData(w);this._deferredSend();}else if(y==s.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR){this._batchData(w);if(!this._inFlight)this._batchSend();}},_send:function(w){this._inFlight++;this._pendingRequestData=n({},w);q.log('send',{endpoint:this._endpoint,data:w,inflight_count:this._inFlight});var x=null;if(i.worker_context){x=new h('POST',this._endpoint,w);x.onError=function(y){y.getPayload=function(){return y.errorText;};y.getRequest=function(){var z=y;y.getData=function(){return w;};return z;};y.getError=function(){return y.errorText;};y.getErrorDescription=function(){return y.errorText;};y.isTransient=function(){return false;};this._handleError(y);}.bind(this);x.onJSON=function(y){y.getPayload=function(){return y.json;};this._handleResponse(y);}.bind(this);x.send();}else{x=new g(this._endpoint).setData(w).setOption('retries',this._connectionRetries).setHandler(this._handleResponse.bind(this)).setErrorHandler(this._handleError.bind(this)).setTransportErrorHandler(this._handleTransportError.bind(this)).setServerDialogCancelHandler(this._handleServerDialogCancel.bind(this)).setAllowCrossPageTransition(true);if(this._timeout&&this._timeoutHandler)x.setTimeoutHandler(this._timeout,this._handleTimeout.bind(this));x.send();}},_batchData:function(w,x){if(this._mode==s.BATCH_SUCCESSIVE_UNIQUE&&typeof this._pendingRequestData!='undefined'&&m(w,this._pendingRequestData)){return;}else{var y=this._batches.length-1;if(y>=0&&!this._hasReachedBatchLimit(this._batches[y])){x?this._batches[y].combineWithOlder(w,this._combineData):this._batches[y].combineWith(w,this._combineData);}else{this._batches.push(new u(w));q.bump('batches_count_'+v(this._batches.length));}q.debug('batch',{endpoint:this._endpoint,batches:this._batches,batch_limit:this._batchSizeLimit});}},_hasReachedBatchLimit:function(w){return this._batchSizeLimit&&w.getSize()>=this._batchSizeLimit;},_batchSend:function(){if(this._batches[0]){this._send(this._batches[0].getData());this._batches.shift();}},_handleResponse:function(w){this._inFlight--;q.log('response',{endpoint:this._endpoint,inflight_count:this._inFlight});var x=w.getPayload();r=x&&x.kill_chat;if(r)q.log('killswitch_enabled',{endpoint:this._endpoint,inflight_count:this._inFlight});if(x&&x.error_payload){if(this._errorHandler)this._errorHandler(w);}else this._handler&&this._handler(x);if(this._mode==s.BATCH_SUCCESSIVE||this._mode==s.BATCH_SUCCESSIVE_UNIQUE||this._mode==s.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR||this._mode==s.BATCH_CONDITIONAL)this._batchSend();delete this._pendingRequestData;},_postErrorHandler:function(){q.error('error',{endpoint:this._endpoint,inflight_count:this._inFlight-1});this._inFlight--;var w=this._mode;if(w==s.BATCH_SUCCESSIVE||w==s.BATCH_SUCCESSIVE_UNIQUE||w==s.BATCH_CONDITIONAL){this._batchSend();}else if(w==s.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR)if(this._batches[0]){this._batchData(this._pendingRequestData,true);this._batchSend();}else this._batchData(this._pendingRequestData,true);delete this._pendingRequestData;},_handleError:function(w){this._errorHandler&&this._errorHandler(w);this._postErrorHandler();},_handleTransportError:function(w){this._transportErrorHandler&&this._transportErrorHandler(w);this._postErrorHandler();},_handleTimeout:function(w){this._timeoutHandler&&this._timeoutHandler(w);this._postErrorHandler();},_handleServerDialogCancel:function(w){this._serverDialogCancelHandler&&this._serverDialogCancelHandler(w);this._postErrorHandler();}});function u(w){this._data=w;this._size=1;}n(u.prototype,{getData:function(){return this._data;},getSize:function(){return this._size;},combineWith:function(w,x){this._data=x(this._data,w);this._size++;},combineWithOlder:function(w,x){this._data=x(w,this._data);this._size++;}});function v(w){if(w===1){return 'equals1';}else if(w>=2&&w<=3){return 'between2and3';}else return 'over4';}e.exports=s;});
__d("TypeaheadUtil",["function-extensions"],function(a,b,c,d,e,f){b('function-extensions');var g=/[ ]+/g,h=/[^ ]+/g,i=/[.,+*?$|#{}()\^\-\[\]\\\/!@%'"~=<>_:;\u2010\u2011\u2012\u2013\u2014\u2015\u30fb\uff1a]/g,j={},k={a:"\u0430 \u00e0 \u00e1 \u00e2 \u00e3 \u00e4 \u00e5",b:"\u0431",c:"\u0446 \u00e7 \u010d",d:"\u0434 \u00f0 \u010f \u0111",e:"\u044d \u0435 \u00e8 \u00e9 \u00ea \u00eb \u011b",f:"\u0444",g:"\u0433 \u011f",h:"\u0445 \u0127",i:"\u0438 \u00ec \u00ed \u00ee \u00ef \u0131",j:"\u0439",k:"\u043a \u0138",l:"\u043b \u013e \u013a \u0140 \u0142",m:"\u043c",n:"\u043d \u00f1 \u0148 \u0149 \u014b",o:"\u043e \u00f8 \u00f6 \u00f5 \u00f4 \u00f3 \u00f2",p:"\u043f",r:"\u0440 \u0159 \u0155",s:"\u0441 \u015f \u0161 \u017f",t:"\u0442 \u0165 \u0167 \u00fe",u:"\u0443 \u044e \u00fc \u00fb \u00fa \u00f9 \u016f",v:"\u0432",y:"\u044b \u00ff \u00fd",z:"\u0437 \u017e",ae:"\u00e6",oe:"\u0153",ts:"\u0446",ch:"\u0447",ij:"\u0133",sh:"\u0448",ss:"\u00df",ya:"\u044f"};for(var l in k){var m=k[l].split(' ');for(var n=0;n<m.length;n++)j[m[n]]=l;}var o={};function p(v){return v?v.replace(i,' '):'';}function q(v){v=(''+v).toLowerCase();var w='',x='';for(var y=v.length;y--;){x=v.charAt(y);w=(j[x]||x)+w;}return w.replace(g,' ');}function r(v){var w=[],x=h.exec(v);while(x){x=x[0];w.push(x);x=h.exec(v);}return w;}function s(v,w){v=''+v;if(!o.hasOwnProperty(v)){var x=q(v),y=p(x);o[v]={value:v,flatValue:x,tokens:r(y),isPrefixQuery:y&&y[y.length-1]!=' '};}if(w&&typeof o[v].sortedTokens=='undefined'){o[v].sortedTokens=o[v].tokens.slice();o[v].sortedTokens.sort(function(z,aa){return aa.length-z.length;});}return o[v];}function t(v,w,x){var y=s(w,v=='prefix'),z=v=='prefix'?y.sortedTokens:y.tokens,aa=s(x).tokens,ba={},ca=y.isPrefixQuery&&v=='query'?z.length-1:null,da=function(ea,fa){for(var ga=0;ga<aa.length;++ga){var ha=aa[ga];if(!ba[ga]&&(ha==ea||((v=='query'&&fa===ca||v=='prefix')&&ha.indexOf(ea)===0)))return (ba[ga]=true);}return false;};return z.length&&z.every(da);}var u={flatten:q,parse:s,isExactMatch:t.curry('exact'),isQueryMatch:t.curry('query'),isPrefixMatch:t.curry('prefix')};e.exports=u;});
__d("DataSource",["array-extensions","ArbiterMixin","AsyncRequest","TypeaheadUtil","copyProperties","createArrayFrom","createObjectFrom","emptyFunction"],function(a,b,c,d,e,f){b('array-extensions');var g=b('ArbiterMixin'),h=b('AsyncRequest'),i=b('TypeaheadUtil'),j=b('copyProperties'),k=b('createArrayFrom'),l=b('createObjectFrom'),m=b('emptyFunction');function n(o){this._maxResults=o.maxResults||10;this.token=o.token;this.queryData=o.queryData||{};this.queryEndpoint=o.queryEndpoint||'';this.bootstrapData=o.bootstrapData||{};this.bootstrapEndpoint=o.bootstrapEndpoint||'';this._exclusions=o.exclusions||[];this._indexedFields=o.indexedFields||['text','tokens'];this._titleFields=o.titleFields||[];this._alwaysPrefixMatch=o.alwaysPrefixMatch||false;this._deduplicationKey=o.deduplicationKey||null;this._enabledQueryCache=o.enabledQueryCache||true;this._queryExactMatch=o.queryExactMatch||false;this._minExactMatchLength=4;this._filters=[];}j(n.prototype,g,{events:['bootstrap','query','respond'],init:function(){this.init=m;this._fields=l(this._indexedFields);this._activeQueries=0;this.dirty();},dirty:function(){this.value='';this._bootstrapped=false;this._bootstrapping=false;this._data={};this.localCache={};this.queryCache={};this.inform('dirty',{});return this;},bootstrap:function(){if(this._bootstrapped)return;this.bootstrapWithoutToken();this._bootstrapped=true;this._bootstrapping=true;this.inform('bootstrap',{bootstrapping:true});},bootstrapWithoutToken:function(){this.fetch(this.bootstrapEndpoint,this.bootstrapData,{bootstrap:true,token:this.token});},bootstrapWithToken:function(){var o=j({},this.bootstrapData);o.token=this.token;this.fetch(this.bootstrapEndpoint,o,{bootstrap:true,replaceCache:true});},query:function(o,p,q,r){this.inform('beforeQuery',{value:o,local_only:p,exclusions:q,time_waited:r});if(!this._enabledQueryCache)this.queryCache={};var s=this.buildUids(o,[],q),t=this.respond(o,s);this.value=o;this.inform('query',{value:o,results:t});var u=i.parse(o).flatValue;if(p||!u||!this.queryEndpoint||this.getQueryCache().hasOwnProperty(u)||!this.shouldFetchMoreResults(t))return false;this.inform('queryEndpoint',{value:o});this.fetch(this.queryEndpoint,this.getQueryData(o,s),{value:o,exclusions:q});return true;},shouldFetchMoreResults:function(o){return o.length<this._maxResults;},getQueryData:function(o,p){var q=j({value:o},this.queryData||{});p=p||[];if(p.length)q.existing_ids=p.join(',');if(this._bootstrapping)q.bsp=true;return q;},setQueryData:function(o,p){if(p)this.queryData={};j(this.queryData,o);return this;},setBootstrapData:function(o,p){if(p)this.bootstrapData={};j(this.bootstrapData,o);return this;},getExclusions:function(){return k(this._exclusions);},setExclusions:function(o){this._exclusions=o||[];},addFilter:function(o){var p=this._filters;p.push(o);return {remove:function(){p.splice(p.indexOf(o),1);}};},clearFilters:function(){this._filters=[];},respond:function(o,p,q){var r=this.buildData(p);this.inform('respond',{value:o,results:r,isAsync:!!q});return r;},asyncErrorHandler:m,fetch:function(o,p,q){if(!o)return;var r=new h().setURI(o).setData(p).setMethod('GET').setReadOnly(true).setHandler(function(s){this.fetchHandler(s,q||{});}.bind(this));if(o===this.queryEndpoint)r.setFinallyHandler(function(){this._activeQueries--;if(!this._activeQueries)this.inform('activity',{activity:false});}.bind(this));r.setErrorHandler(this.asyncErrorHandler);this.inform('beforeFetch',{request:r,fetch_context:q});r.send();if(o===this.queryEndpoint){if(!this._activeQueries)this.inform('activity',{activity:true});this._activeQueries++;}},fetchHandler:function(o,p){var q=p.value,r=p.exclusions;if(!q&&p.replaceCache)this.localCache={};this.inform('buildQueryCache',{});this.addEntries(o.getPayload().entries,q);this.inform('fetchComplete',{response:o,value:q,fetch_context:p});var s=(!q&&this.value)?this.value:q;this.respond(s,this.buildUids(s,[],r),true);if(!q){if(this._bootstrapping){this._bootstrapping=false;this.inform('bootstrap',{bootstrapping:false});}if(p.token&&o.getPayload().token!==p.token)this.bootstrapWithToken();}},addEntries:function(o,p){var q=this.processEntries(k(o||[]),p),r=this.buildUids(p,q);if(p){var s=this.getQueryCache();s[i.parse(p).flatValue]=r;}else this.fillCache(r);},processEntries:function(o,p){return o.map(function(q,r){var s=(q.uid=q.uid+''),t=this.getEntry(s);if(!t){t=q;t.query=p;this.setEntry(s,t);}else j(t,q);t.index===undefined&&(t.index=r);return s;},this);},getAllEntries:function(){return this._data||{};},getEntry:function(o){return this._data[o]||null;},setEntry:function(o,p){this._data[o]=p;},fillCache:function(o){var p=this.localCache;o.forEach(function(q){var r=this.getEntry(q);if(!r)return;r.bootstrapped=true;var s=i.parse(this.getTextToIndex(r)).tokens;for(var t=0,u=s.length;t<u;++t){var v=s[t];if(!p.hasOwnProperty(v))p[v]={};p[v][q]=true;}},this);},getTextToIndex:function(o){if(o.textToIndex&&!o.needs_update)return o.textToIndex;o.needs_update=false;o.textToIndex=this.getTextToIndexFromFields(o,this._indexedFields);return o.textToIndex;},getTextToIndexFromFields:function(o,p){var q=[];for(var r=0;r<p.length;++r){var s=o[p[r]];if(s)q.push(s.join?s.join(' '):s);}return q.join(' ');},mergeUids:function(o,p,q,r){this.inform('mergeUids',{local_uids:o,query_uids:p,new_uids:q,value:r});var s=function(t,u){var v=this.getEntry(t),w=this.getEntry(u);if(v.extended_match!==w.extended_match)return v.extended_match?1:-1;if(v.index!==w.index)return v.index-w.index;if(v.text.length!==w.text.length)return v.text.length-w.text.length;return v.uid<w.uid;}.bind(this);this._checkExtendedMatch(r,o);return this.deduplicateByKey(o.sort(s).concat(p,q));},_checkExtendedMatch:function(o,p){var q=this._alwaysPrefixMatch?i.isPrefixMatch:i.isQueryMatch;for(var r=0;r<p.length;++r){var s=this.getEntry(p[r]);s.extended_match=s.tokens?!q(o,s.text):false;}},buildUids:function(o,p,q){if(!p)p=[];if(!o)return p;if(!q)q=[];var r=this.buildCacheResults(o,this.localCache),s=this.buildQueryResults(o),t=this.mergeUids(r,s,p,o),u=l(q.concat(this._exclusions)),v=t.filter(function(w){if(u.hasOwnProperty(w)||!this.getEntry(w))return false;for(var x=0;x<this._filters.length;++x)if(!this._filters[x](this.getEntry(w),o))return false;return (u[w]=true);},this);return this.uidsIncludingExact(o,v,u);},uidsIncludingExact:function(o,p,q){var r=p.length;if(o.length<this._minExactMatchLength||r<=this._maxResults)return p;for(var s=0;s<r;++s){var t=this.getEntry(p[s]);t.text_lower||(t.text_lower=t.text.toLowerCase());if(t.text_lower===i.parse(o).flatValue){if(s>=this._maxResults){var u=p.splice(s,1);p.splice(this._maxResults-1,0,u);}break;}}return p;},buildData:function(o){var p=[],q=Math.min(o.length,this._maxResults);for(var r=0;r<q;++r)p.push(this.getEntry(o[r]));return p;},findQueryCache:function(o){var p=0,q=null,r=this.getQueryCache();if(this._queryExactMatch)return r[o]||[];for(var s in r)if(o.indexOf(s)===0&&s.length>p){p=s.length;q=s;}return r[q]||[];},buildQueryResults:function(o){var p=i.parse(o).flatValue,q=this.findQueryCache(p);if(this.getQueryCache().hasOwnProperty(p))return q;return this.filterQueryResults(o,q);},filterQueryResults:function(o,p){var q=this._alwaysPrefixMatch?i.isPrefixMatch:i.isQueryMatch;return p.filter(function(r){return q(o,this.getTextToIndex(this.getEntry(r)));},this);},buildCacheResults:function(o,p){var q=i.parse(o,this._alwaysPrefixMatch),r=this._alwaysPrefixMatch?q.sortedTokens:q.tokens,s=r.length,t=q.isPrefixQuery?s-1:null,u={},v={},w={},x=[],y=false,z={},aa=0;for(var ba=0;ba<s;++ba){var ca=r[ba];if(!z.hasOwnProperty(ca)){aa++;z[ca]=true;}else continue;for(var da in p)if((!u.hasOwnProperty(da)&&da===ca)||((this._alwaysPrefixMatch||t===ba)&&da.indexOf(ca)===0)){if(da===ca){if(v.hasOwnProperty(da))y=true;u[da]=true;}else{if(u.hasOwnProperty(da)||v.hasOwnProperty(da))y=true;v[da]=true;}for(var ea in p[da])if(ba===0||(w.hasOwnProperty(ea)&&w[ea]==aa-1))w[ea]=aa;}}for(var fa in w)if(w[fa]==aa)x.push(fa);if(y||aa<s)x=this.filterQueryResults(o,x);if(this._titleFields&&this._titleFields.length>0)x=this.filterNonTitleMatchQueryResults(o,x);return x;},filterNonTitleMatchQueryResults:function(o,p){return p.filter(function(q){var r=i.parse(o),s=r.tokens.length;if(s===0)return true;var t=this.getTitleTerms(this.getEntry(q)),u=r.tokens[0];return ((s===1)||this._alwaysPrefixMatch)?i.isPrefixMatch(u,t):i.isQueryMatch(u,t);},this);},getTitleTerms:function(o){if(!o.titleToIndex)o.titleToIndex=this.getTextToIndexFromFields(o,this._titleFields);return o.titleToIndex;},deduplicateByKey:function(o){if(!this._deduplicationKey)return o;var p=l(o.map(this._getDeduplicationKey.bind(this)),o);return o.filter(function(q){return p[this._getDeduplicationKey(q)]==q;}.bind(this));},_getDeduplicationKey:function(o){var p=this.getEntry(o);return p[this._deduplicationKey]||'__'+o+'__';},getQueryCache:function(){return this.queryCache;},setMaxResults:function(o){this._maxResults=o;this.value&&this.respond(this.value,this.buildUids(this.value));},updateToken:function(o){this.token=o;this.dirty();return this;}});e.exports=n;});
__d("randomInt",[],function(a,b,c,d,e,f){function g(h,i){if(arguments.length===1){i=h;h=0;}var j=this.random||Math.random;return Math.floor(h+j()*(i-h));}e.exports=g;});
__d("keyMirror",[],function(a,b,c,d,e,f){var g=function(h){var i={},j;if(!h)return h;for(j in h){if(!h.hasOwnProperty(j))continue;i[j]=j;}return i;};e.exports=g;});
__d("throwIf",[],function(a,b,c,d,e,f){var g=function(h,i){if(h)throw new Error(i);};e.exports=g;});
__d("mergeHelpers",["keyMirror","throwIf"],function(a,b,c,d,e,f){var g=b('keyMirror'),h=b('throwIf'),i=36,j=g({MERGE_ARRAY_FAIL:null,MERGE_CORE_FAILURE:null,MERGE_TYPE_USAGE_FAILURE:null,MERGE_DEEP_MAX_LEVELS:null,MERGE_DEEP_NO_ARR_STRATEGY:null}),k=function(m){return typeof m!=='object'||m===null;},l={MAX_MERGE_DEPTH:i,isTerminal:k,normalizeMergeArg:function(m){return m===undefined||m===null?{}:m;},checkMergeArrayArgs:function(m,n){h(!Array.isArray(m)||!Array.isArray(n),j.MERGE_CORE_FAILURE);},checkMergeObjectArgs:function(m,n){var o=k(m)||k(n)||Array.isArray(m)||Array.isArray(n);h(o,j.MERGE_CORE_FAILURE);},checkMergeLevel:function(m){h(m>=i,j.MERGE_DEEP_MAX_LEVELS);},checkArrayStrategy:function(m){h(m!==undefined&&!(m in l.ArrayStrategies),j.MERGE_DEEP_NO_ARR_STRATEGY);},ArrayStrategies:g({Clobber:true,IndexByIndex:true}),ERRORS:j};e.exports=l;});
__d("merge",["mergeHelpers"],function(a,b,c,d,e,f){var g=b('mergeHelpers'),h=g.checkMergeObjectArgs,i=g.normalizeMergeArg,j=function(k,l){var m=i(k),n=i(l);h(m,n);var o={};for(var p in m)if(m.hasOwnProperty(p))o[p]=m[p];for(var q in n)if(n.hasOwnProperty(q))o[q]=n[q];return o;};e.exports=j;});
__d("fallbackSerializePosInfo",[],function(a,b,c,d,e,f){var g=function(h){if(!h)return '';var i=';',j=h.w,k=h.h,l=h.l,m=h.t,n=h.b,o=h.r,p=h.z;if(j===0||j)i+='width:'+(j.charAt?(j+';'):(j+'px;'));if(k===0||k)i+='height:'+(k.charAt?(k+';'):(k+'px;'));if(l===0||l)i+='left:'+(l.charAt?(l+';'):(l+'px;'));if(m===0||m)i+='top:'+(m.charAt?(m+';'):(m+'px;'));if(n===0||n)i+='bottom:'+(n.charAt?(n+';'):(n+'px;'));if(o===0||o)i+='right:'+(o.charAt?(o+';'):(o+'px;'));if(p===0||p)i+='z-index:'+p+';';i+='position:absolute';return i;};e.exports=g;});
__d("renderer-renderClassSet",[],function(a,b,c,d,e,f){function g(h,i){var j='',k;if(Array.isArray(h)){for(var l=0;l<h.length;l++){j+=g(h[l],i);i=i||!!j;}}else for(k in h)if(h[k]){if(i)j+=' ';j+=k;i=true;}return j;}e.exports=g;});
__d("ReactDOMGeneration",["ReactBrowserUtils","ReactDOMAttributes","ReactDOMUtils","ReactEvent","fallbackSerializePosInfo","keyOf","renderer-renderClassSet"],function(a,b,c,d,e,f){var g=b('ReactBrowserUtils'),h=b('ReactDOMAttributes'),i=b('ReactDOMUtils'),j=b('ReactEvent'),k=b('fallbackSerializePosInfo'),l=b('keyOf'),m=j.registrationNames,n=h.allTagAttrPieces,o=h.customAttrRegexp,p=g.escapeTextForBrowser,q=k,r=j.putListener,s=b('renderer-renderClassSet'),t=i.serializeInlineStyle,u=l({classSet:null}),v=l({className:null}),w=l({style:null}),x=l({posInfo:null}),y={handleGenMarkupDOMGeneration:function(){var aa,ba=this.props,ca='',da='',ea=null,fa=null;for(aa in ba){if(!ba.hasOwnProperty(aa))continue;var ga=ba[aa];if(ga===null||typeof ga==='undefined')continue;if(aa===u){ea=p(s(ga));}else if(aa===v){fa=p(ga);}else if(n[aa]){ca+=n[aa]+p(ga)+"'";}else if(aa===w){da+=p(t(ga));}else if(aa===x){da+=p(q(ga));}else if(m[aa]){r(this._rootDomId,aa,ga);}else if(o.test(aa))ca+=aa+"='"+p(ga)+"'";}if(ea||fa){var ha=ea?(fa?ea+' '+fa:ea):fa;ca+=' class="'+ha+'"';}if(da)ca+=' style="'+da+'"';ca+=' id="'+this._rootDomId+'">';if(ba.content){ca+=p(ba.content);}else if(ba.dangerouslySetInnerHtml)ca+=ba.dangerouslySetInnerHtml.__html;return ca;}},z={ReactNativeComponentGenerationMixin:y,setAcceleratedPositioner:function(aa){q=aa;}};e.exports=z;});
__d("ReactDOMMutation",["ReactDOMAttributes","ReactDOMUtils","ReactEvent","fallbackSerializePosInfo","keyOf","renderer-renderClassSet"],function(a,b,c,d,e,f){var g=b('ReactDOMAttributes'),h=b('ReactDOMUtils'),i=b('ReactEvent'),j=b('fallbackSerializePosInfo'),k=b('keyOf'),l=i.registrationNames,m=g.controlDirectlyNonIdempotent,n=g.controlSimply,o=g.controlUsingSetAttr,p=g.customAttrRegexp,q=i.putListener,r=b('renderer-renderClassSet'),s=h.serializeInlineStyle,t=j,u=k({className:null}),v=k({classSet:null}),w=g.CONTENT_ACCESSOR_KEY,x=k({content:null}),y=k({dangerouslySetInnerHtml:null}),z=k({posInfo:null}),aa=k({style:null}),ba=function(ea){t=ea;},ca={handleUpdateAllPropsDOMMutation:function(ea){var fa=this.props,ga=false,ha=null,ia=null,ja='',ka='',la='',ma;for(ma in ea){if(!ea.hasOwnProperty(ma))continue;var na=ea[ma];if(ma===v){ha=ea.classSet;if(JSON.stringify(fa.classSet)!==JSON.stringify(ea.classSet))ga=true;}else if(ma===u){ia=ea.className;if(fa.className!==ea.className)ga=true;}else if(ma===aa){if(JSON.stringify(na)!==JSON.stringify(fa.style))ka=s(na);}else if(ma===z){var oa=na,pa=fa.posInfo||{};if(oa&&(oa.l!==pa.l||oa.t!==pa.t||oa.w!==pa.w||oa.h!==pa.h||oa.r!==pa.r||oa.b!==pa.b))la=t(na);}else if(na!==fa[ma])if(o[ma]){this.getDOMNode().setAttribute(ma,na);}else if(ma===x){this.getDOMNode()[w]=na;}else if(n[ma]){this.getDOMNode()[ma]=na;}else if(m[ma]){var qa=this.getDOMNode();if(qa[ma]!==na)qa[ma]=na;}else if(l[ma]){q(this._rootDomId,ma,na);}else if(ma===y){var ra=fa[ma],sa=na,ta=ra&&ra.__html,ua=sa&&sa.__html;if(ta!==ua)this.getDOMNode().innerHTML=(ua||'').replace(/^ /g,'&nbsp;');}else if(p.test(ma))this.getDOMNode().setAttribute(ma,na);}if(ga){var va=ha?r(ha):null;this.getDOMNode().className=va?(ia?va+' '+ia:va):ia;}if(ka&&!la)la=t(ea.posInfo);if(la&&!ka)ka=s(ea.style);if(ka||la){ja+=ka;ja+=la;this.getDOMNode().style.cssText=ja;}}},da={setAcceleratedPositioner:ba,ReactNativeComponentMutationMixin:ca};e.exports=da;});
__d("ReactMultiChild",["ReactComponent","ReactDOMUtils"],function(a,b,c,d,e,f){var g=b('ReactComponent'),h=b('ReactDOMUtils'),i=h.insertNodeAt;function j(n,o){return n&&o&&n.constructor===o.constructor;}function k(n,o){return n&&!o||(n&&o&&n.constructor!==o.constructor);}var l={destroyMultiChild:function(){var n=this.renderedChildren,o;for(o in n){if(!n.hasOwnProperty(o))continue;if(n[o])n[o].destroy();}this.renderedChildren=null;},handleGenMarkupMultiChild:function(n){var o,p='',q=0;for(o in n){var r=n[o];if(r){r.domIndex=q;p+=n[o].handleGenMarkup(this._rootDomId+'.'+o);q++;}}this.renderedChildren=n;return p;},insertMarkupAt:function(n,o){return !n?0:h.insertMarkupAt(this.getDOMNode(),n,o);},enqueueMove:function(n,o,p){if(o===p)return n;if(!n)n={};var q=this.getDOMNode();n[p]=q.childNodes[o];return n;},handleUpdateAllPropsMultiChild:function(n){if(!n&&!this.renderedChildren){return;}else if(n&&!this.renderedChildren){this.renderedChildren={};}else if(!n&&this.renderedChildren)n={};var o,p=this._rootDomId+'.',q='',r=0,s=0,t=0,u;for(o in n){if(!n.hasOwnProperty(o))continue;var v=this.renderedChildren[o],w=n[o];if(j(v,w)){t+=this.insertMarkupAt(q,s);q='';var x=w.props.isStatic;if(!x)v.handleUpdateAllProps(w.props);var y=v.domIndex+t;u=this.enqueueMove(u,y,r);v.domIndex=r;r++;s=r;}else{if(v){this.removeChildByName(o,v);t--;}if(w){this.renderedChildren[o]=w;q+=w.handleGenMarkup(p+o);w.domIndex=r;r++;}}}t+=this.insertMarkupAt(q,s);for(o in this.renderedChildren){if(!this.renderedChildren.hasOwnProperty(o))continue;var z=this.renderedChildren[o];if(k(z,n[o]))this.removeChildByName(o,z);}if(u){var aa,ba=this.getDOMNode();for(aa in u){if(!u.hasOwnProperty(aa))continue;i(ba,u[aa],aa);}}},removeChildByName:function(n,o){if(g.isValidComponent(o))o.destroyAndDetachFromDom();delete this.renderedChildren[n];}},m={ReactMultiChildMixin:l};e.exports=m;});
__d("ReactTextComponent",["ReactBrowserUtils","ReactDOMAttributes","ReactComponent","mixInto"],function(a,b,c,d,e,f){var g=b('ReactBrowserUtils'),h=b('ReactDOMAttributes'),i=b('ReactComponent'),j=g.escapeTextForBrowser,k=b('mixInto'),l=h.CONTENT_ACCESSOR_KEY,m=function(n){this.props=n;};k(m,i.ReactComponentMixin);m.prototype.handleUpdateAllProps=function(n){if(n!==this.props){this.getDOMNode()[l]=n;this.props=n;}};m.prototype.destroy=function(){};m.prototype.handleGenMarkup=function(n){this._rootDomId=n;return ('<span id="'+n+'">'+j(this.props)+'</span>');};e.exports=m;});
__d("flattenChildren",["ReactTextComponent"],function(a,b,c,d,e,f){var g=b('ReactTextComponent'),h='0',i=function(k,l,m){var n,o;if(Array.isArray(l)){for(n=0;n<l.length;n++)i(k,l[n],m+'['+n+']');}else{var p=m==='',q=p?h:m;if(!l&&l!==0){k[q]=null;}else if(l.genMarkupIntoContainer){k[q]=l;}else{var r=typeof l;if(r==='string'||r==='number'){k[q]=new g(l);}else if(r==='object')for(o in l)if(l.hasOwnProperty(o))i(k,l[o],m+'{'+o+'}');}}};function j(k){if(k===null||k===undefined)return k;var l={};i(l,k,'');return l;}e.exports=j;});
__d("ReactDOM",["ReactComponent","ReactDOMGeneration","ReactDOMMutation","ReactErrors","ReactEvent","ReactMultiChild","flattenChildren","mixInto","objMapKeyVal","throwIf"],function(a,b,c,d,e,f){var g=b('ReactComponent'),h=b('ReactDOMGeneration'),i=b('ReactDOMMutation'),j=b('ReactErrors'),k=b('ReactEvent'),l=b('ReactMultiChild'),m=h.ReactNativeComponentGenerationMixin,n=i.ReactNativeComponentMutationMixin,o=b('flattenChildren'),p=b('mixInto'),q=b('objMapKeyVal'),r=b('throwIf');function s(u,v){var w='<'+u+' ',x=v?'':'</'+u+'>',y=function(ba){this.props=ba;this.captureOwnerAtConstruction();},z={handleUpdateAllProps:function(ba){j.throwIf(!this._rootDomId,j.CONTROL_WITHOUT_BACKING_DOM);this.handleUpdateAllPropsComponent(ba);this.handleUpdateAllPropsDOMMutation(ba);this.handleUpdateAllPropsMultiChild(o(ba.children));this.props=ba;},handleGenMarkup:function(ba){this.initializeComponent(ba);var ca=w+this.handleGenMarkupDOMGeneration()+this.handleGenMarkupMultiChild(o(this.props.children))+x;return ca;},destroy:function(){this.destroyComponent();this.destroyMultiChild();k.deleteAllListeners(this._rootDomId);}};p(y,g.ReactComponentMixin);p(y,z);p(y,m);p(y,n);p(y,l.ReactMultiChildMixin);y.prototype.tagName=u.toUpperCase();var aa=function(ba){return new y(ba);};return aa;}var t=q({a:false,abbr:false,address:false,audio:false,b:false,br:true,button:false,code:false,col:true,colgroup:false,dd:false,div:false,section:false,dl:false,dt:false,em:false,embed:true,fieldset:false,form:false,g:false,h1:false,h2:false,h3:false,h4:false,h5:false,h6:false,hr:true,i:false,iframe:false,img:true,input:false,label:false,legend:false,li:false,line:false,object:false,ol:false,optgroup:false,option:false,p:false,param:true,pre:false,select:false,small:false,span:false,strong:false,svg:false,table:false,tbody:false,td:false,textarea:false,tfoot:false,th:false,thead:false,time:false,title:false,tr:false,ul:false,video:false,wbr:false},s);e.exports=t;});
__d("NumberFormat",["Env"],function(a,b,c,d,e,f){var g=b('Env'),h=/(\d{3})(?=\d)/g,i=10000,j=function(l){return (''+l).split('').reverse().join('');},k={formatIntegerWithDelimiter:function(l,m){if((g.locale=='nb_NO'||g.locale=='nn_NO')&&(Math.abs(l)<i))return l.toString();var n=j(l);return j(n.replace(h,'$1'+m));}};e.exports=k;});
__d("UFIConstants",[],function(a,b,c,d,e,f){var g={COMMENT_LIKE:'fa-type:comment-like',COMMENT_SET_SPAM:'fa-type:mark-spam',DELETE_COMMENT:'fa-type:delete-comment',LIVE_DELETE_COMMENT:'fa-type:live-delete-comment',LIKE_ACTION:'fa-type:like',REMOVE_PREVIEW:'fa-type:remove-preview',CONFIRM_COMMENT_REMOVAL:'fa-type:confirm-remove',TRANSLATE_COMMENT:'fa-type:translate-comment',UNDO_DELETE_COMMENT:'fa-type:undo-delete-comment'},h={DELETED:'status:deleted',SPAM:'status:spam',SPAM_DISPLAY:'status:spam-display',LIVE_DELETED:'status:live-deleted',FAILED_ADD:'status:failed-add',FAILED_EDIT:'status:failed-edit',PENDING_EDIT:'status:pending-edit',PENDING_UNDO_DELETE:'status:pending-undo-delete'},i={MOBILE:1,SMS:3,EMAIL:4},j={PROFILE:0,NEWS_FEED:1,OBJECT:2,MOBILE:3,EMAIL:4,PROFILE_APROVAL:10,TICKER:12,NONE:13,INTERN:14,ADS:15},k={UNKNOWN:0,INITIAL_SERVER:1,LIVE_SEND:2,USER_ACTION:3,ENDPOINT_LIKE:10,ENDPOINT_COMMENT_LIKE:11,ENDPOINT_ADD_COMMENT:12,ENDPOINT_EDIT_COMMENT:13,ENDPOINT_DELETE_COMMENT:14,ENDPOINT_UNDO_DELETE_COMMENT:15,ENDPOINT_COMMENT_SPAM:16,ENDPOINT_REMOVE_PREVIEW:17,ENDPOINT_ID_COMMENT_FETCH:18,ENDPOINT_COMMENT_FETCH:19,ENDPOINT_TRANSLATE_COMMENT:20,ENDPOINT_BAN:21},l=50,m=.6,n=420,o=5,p=80;e.exports={UFIActionType:g,UFIStatus:h,UFISourceType:i,UFIFeedbackSourceType:j,UFIPayloadSourceType:k,defaultPageSize:l,commentTruncationLength:n,commentTruncationPercent:m,commentTruncationMaxLines:o,attachmentTruncationLength:p};});
__d("UFIBlingBox",["ReactDOM","NumberFormat","React","UFIConstants","copyProperties","tx"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('NumberFormat'),i=b('React'),j=b('UFIConstants'),k=b('copyProperties'),l=b('tx'),m=i.createComponent({render:function(){var o=[],p='';if(this.props.likes){o.push(n({count:this.props.likes,classSet:{mls:o.length>0},iconClassName:"UFIBlingBoxLikeIcon",contextArgs:this.props.contextArgs}));p+=(this.props.likes==1)?"1 like":l._("{count} likes",{count:this.props.likes});p+=' ';}if(this.props.comments){o.push(n({count:this.props.comments,classSet:{mls:o.length>0},iconClassName:"UFIBlingBoxCommentIcon",contextArgs:this.props.contextArgs}));p+=(this.props.comments==1)?"1 comment":l._("{count} comments",{count:this.props.comments});p+=' ';}if(this.props.reshares){o.push(n({count:this.props.reshares,classSet:{mls:o.length>0},iconClassName:"UFIBlingBoxReshareIcon",contextArgs:this.props.contextArgs}));p+=(this.props.reshares==1)?"1 share":l._("{count} shares",{count:this.props.reshares});}var q=g.a({classSet:{UFIBlingBox:true,uiBlingBox:true,feedbackBling:true},href:this.props.permalink,'data-ft':this.props['data-ft'],'aria-label':p,children:o});if(this.props.comments<j.defaultPageSize){q.props.onClick=this.props.onClick;q.props.rel='ignore';}return q;}}),n=i.createComponent({render:function(){var o={UFIBlingBoxSprite:true};o[this.props.iconClassName]=true;k(o,this.props.classSet);var p=h.formatIntegerWithDelimiter(this.props.count,this.props.contextArgs.numberdelimiter||',');return (g.span({children:[g.i({classSet:o}),g.span({classSet:{UFIBlingBoxText:true},children:p})]}));}});e.exports=m;});
__d("UFICentralUpdates",["Arbiter","ChannelConstants","LiveTimer","ShortProfiles","UFIConstants","copyProperties","tx"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ChannelConstants'),i=b('LiveTimer'),j=b('ShortProfiles'),k=b('UFIConstants'),l=b('copyProperties'),m=b('tx'),n=0,o={},p={},q={},r={},s=[];g.subscribe(h.getArbiterType('live-data'),function(x,y){if(y&&y.obj){var z=y.obj,aa=z.comments||[];aa.forEach(function(ba){ba.timestamp.text="a few seconds ago";});w.handleUpdate(k.UFIPayloadSourceType.LIVE_SEND,z);}});function t(){if(!n){var x=q,y=o,z=p,aa=r;q={};o={};p={};r={};if(Object.keys(x).length)v('feedback-id-changed',x);if(Object.keys(y).length)v('feedback-updated',y);if(Object.keys(z).length)v('comments-updated',z);if(Object.keys(aa).length)v('instance-updated',aa);s.pop();}}function u(){if(s.length){return s[s.length-1];}else return k.UFIPayloadSourceType.UNKNOWN;}function v(event,x){w.inform(event,{updates:x,payloadSource:u()});}var w=l(new g(),{handleUpdate:function(x,y){if(Object.keys(y).length)this.synchronizeInforms(function(){s.push(x);var z=l({payloadsource:u()},y);this.inform('update-feedback',z);this.inform('update-comment-lists',z);this.inform('update-comments',z);this.inform('update-actions',z);(y.profiles||[]).forEach(function(aa){j.set(aa.id,aa);});if(y.servertime)i.restart(y.servertime);}.bind(this));},didUpdateFeedback:function(x){o[x]=true;t();},didUpdateComment:function(x){p[x]=true;t();},didUpdateFeedbackID:function(x,y){q[x]=y;t();},didUpdateInstanceState:function(x,y){if(!r[x])r[x]={};r[x][y]=true;t();},synchronizeInforms:function(x){n++;try{x();}catch(y){throw y;}finally{n--;t();}}});e.exports=w;});
__d("ImmutableObject",["keyMirror","merge","mergeInto","mergeHelpers","throwIf"],function(a,b,c,d,e,f){var g=b('keyMirror'),h=b('merge'),i=b('mergeInto'),j=b('mergeHelpers'),k=b('throwIf'),l=j.checkMergeObjectArgs,m=j.isTerminal,n,o;n=g({INVALID_MAP_SET_ARG:null});o=function(q){i(this,q);};o.set=function(q,r){k(!(q instanceof o),n.INVALID_MAP_SET_ARG);var s=new o(q);i(s,r);return s;};o.setField=function(q,r,s){var t={};t[r]=s;return o.set(q,t);};o.setDeep=function(q,r){k(!(q instanceof o),n.INVALID_MAP_SET_ARG);return p(q,r);};function p(q,r){l(q,r);var s={},t=Object.keys(q);for(var u=0;u<t.length;u++){var v=t[u];if(!r.hasOwnProperty(v)){s[v]=q[v];}else if(m(q[v])||m(r[v])){s[v]=r[v];}else s[v]=p(q[v],r[v]);}var w=Object.keys(r);for(u=0;u<w.length;u++){var x=w[u];if(q.hasOwnProperty(x))continue;s[x]=r[x];}return (q instanceof o||r instanceof o)?new o(s):s;}e.exports=o;});
__d("UFIClientIDs",["randomInt"],function(a,b,c,d,e,f){var g=b('randomInt'),h={},i={getNewClientID:function(){var j=Date.now(),k=j+':'+(g(0,4294967295)+1);h[k]=true;return k;},isExistingClientID:function(j){return !!h[j];}};e.exports=i;});
__d("UFIFeedbackTargets",["copyProperties","KeyedCallbackManager","UFICentralUpdates","UFIClientIDs","UFIConstants"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('KeyedCallbackManager'),i=b('UFICentralUpdates'),j=b('UFIClientIDs'),k=b('UFIConstants'),l=new h();function m(s){var t={};s.forEach(function(u){var v=g({},u);delete v.commentlist;delete v.commentcount;t[u.entidentifier]=v;i.didUpdateFeedback(u.entidentifier);});l.addResourcesAndExecute(t);}function n(s){for(var t=0;t<s.length;t++){var u=s[t];switch(u.actiontype){case k.UFIActionType.LIKE_ACTION:p(u);break;}}}function o(s){for(var t=0;t<s.length;t++){var u=s[t];if(u.orig_ftentidentifier)q(u.orig_ftentidentifier,u.ftentidentifier);}}function p(s){if(s.orig_entidentifier)q(s.orig_entidentifier,s.entidentifier);var t=l.getResource(s.entidentifier);if(t){s.hasviewerliked=!!s.hasviewerliked;if(s.clientid&&j.isExistingClientID(s.clientid)&&s.hasviewerliked!=t.hasviewerliked)return;t.likecount=s.likecount||0;t.likesentences=s.likesentences;if(s.actorid==t.actorforpost){t.hasviewerliked=s.hasviewerliked;}else if(s.hasviewerliked!=t.hasviewerliked){t.likesentences={current:s.likesentences.alternate,alternate:s.likesentences.current};if(t.hasviewerliked){t.likecount++;}else t.likecount--;}if(s.actorid!=t.actorforpost)t.likesentences.isunseen=true;m([t]);}}function q(s,t){var u=l.getResource(s);if(u){l.setResource(s,null);u.entidentifier=t;l.setResource(t,u);i.didUpdateFeedbackID(s,t);}}var r={getFeedbackTarget:function(s,t){var u=l.executeOrEnqueue(s,t),v=l.getUnavailableResources(u);if(!v.length)return;}};i.subscribe('update-feedback',function(s,t){var u=t.feedbacktargets;if(u&&u.length)m(u);});i.subscribe('update-actions',function(s,t){if(t.actions&&t.actions.length)n(t.actions);});i.subscribe('update-comments',function(s,t){if(t.comments&&t.comments.length)o(t.comments);});e.exports=r;});
__d("UFIInstanceState",["UFICentralUpdates"],function(a,b,c,d,e,f){var g=b('UFICentralUpdates'),h={};function i(k){if(!h[k])h[k]={};}var j={getKeyForInstance:function(k,l){i(k);return h[k][l];},updateState:function(k,l,m){i(k);h[k][l]=m;g.didUpdateInstanceState(k,l);},updateStateField:function(k,l,m,n){var o=this.getKeyForInstance(k,l)||{};o[m]=n;this.updateState(k,l,o);}};e.exports=j;});
__d("UFIComments",["ImmutableObject","JSLogger","KeyedCallbackManager","MercuryServerDispatcher","UFICentralUpdates","UFIClientIDs","UFIConstants","UFIFeedbackTargets","UFIInstanceState","URI","copyProperties","keyMirror","merge","randomInt","throwIf"],function(a,b,c,d,e,f){var g=b('ImmutableObject'),h=b('JSLogger'),i=b('KeyedCallbackManager'),j=b('MercuryServerDispatcher'),k=b('UFICentralUpdates'),l=b('UFIClientIDs'),m=b('UFIConstants'),n=b('UFIFeedbackTargets'),o=b('UFIInstanceState'),p=b('URI'),q=b('copyProperties'),r=b('keyMirror'),s=b('merge'),t=b('randomInt'),u=b('throwIf'),v=r({INVALID_COMMENT_TYPE:null}),w=h.create('UFIComments'),x={},y={},z={},aa={},ba={},ca='unavailable_comment_key';function da(wa){return wa in ba?ba[wa]:wa;}function ea(wa){if(!y[wa])y[wa]=new i();return y[wa];}function fa(wa,xa){wa.forEach(function(ya){var za=ya.ftentidentifier,ab=ya.parentcommentid||za;n.getFeedbackTarget(za,function(bb){var cb=ya.clientid,db=false,eb=s({},ya);if(cb){delete eb.clientid;db=l.isExistingClientID(cb);if(db&&ba[cb])return;}var fb=m.UFIPayloadSourceType;if((xa===fb.LIVE_SEND)||(xa===fb.USER_ACTION)||(xa===fb.ENDPOINT_ADD_COMMENT)||(xa===fb.ENDPOINT_EDIT_COMMENT))eb.isunseen=true;if(xa===fb.ENDPOINT_COMMENT_FETCH||xa===fb.ENDPOINT_ID_COMMENT_FETCH)eb.fromfetch=true;var gb=ea(ab),hb=gb.getAllResources(),ib={};for(var jb in hb){var kb=hb[jb];ib[kb]=jb;}if(db){if(x[cb].ufiinstanceid)o.updateStateField(x[cb].ufiinstanceid,'locallycomposed',ya.id,true);ba[cb]=ya.id;x[ya.id]=x[cb];delete x[cb];k.didUpdateComment(cb);if(cb in ib){ib[ya.id]=ib[cb];var lb=ib[cb];gb.setResource(lb,ya.id);}}if(!ib[ya.id]){var mb=z[ab]||0;ib[ya.id]=mb;z[ab]=mb+1;ma(ab);gb.setResource(mb,ya.id);}var nb=ib[ya.id],ob=z[ab];eb.replycount=(z[ya.id]||0)-(aa[ya.id]||0);var pb=Math.floor((ob-nb-1)/m.defaultPageSize)*m.defaultPageSize;eb.permalink=p(bb.permalink).addQueryData({comment_id:ya.legacyid,offset:pb,total_comments:ob}).toString();va.setComment(ya.id,new g(eb));k.didUpdateComment(ya.id);k.didUpdateFeedback(za);});});}function ga(wa){for(var xa=0;xa<wa.length;xa++){var ya=wa[xa];switch(ya.actiontype){case m.UFIActionType.COMMENT_LIKE:ja(ya);break;case m.UFIActionType.DELETE_COMMENT:na(ya);break;case m.UFIActionType.LIVE_DELETE_COMMENT:oa(ya);break;case m.UFIActionType.UNDO_DELETE_COMMENT:pa(ya);break;case m.UFIActionType.REMOVE_PREVIEW:qa(ya);break;case m.UFIActionType.COMMENT_SET_SPAM:ra(ya);break;case m.UFIActionType.CONFIRM_COMMENT_REMOVAL:sa(ya);break;case m.UFIActionType.TRANSLATE_COMMENT:ka(ya);break;}}}function ha(wa){for(var xa in wa){var ya=wa[xa],za=ya.range,ab=ya.values;if(!za){w.error('nullrange',{target:xa,commentList:ya});continue;}var bb={};for(var cb=0;cb<za.length;cb++)bb[za.offset+cb]=ab[cb]||ca;ea(xa).addResourcesAndExecute(bb);if(ya.count!==undefined){z[xa]=ya.count;aa[xa]=0;}var db=ya.ftentidentifier||xa;k.didUpdateFeedback(db);}}function ia(wa){wa.forEach(function(xa){z[xa.entidentifier]=xa.commentcount;aa[xa.entidentifier]=0;k.didUpdateFeedback(xa.entidentifier);});}function ja(wa){var xa=va.getComment(wa.commentid);if(xa){var ya={},za=wa.clientid&&l.isExistingClientID(wa.clientid);if(!za){ya.hasviewerliked=wa.viewerliked;ya.likecount=wa.likecount;}ya.likeconfirmhash=t(0,1024);ua(wa.commentid,ya);}}function ka(wa){var xa=wa.commentid,ya=va.getComment(wa.commentid);if(ya)ua(xa,{translatedtext:wa.translatedtext});}function la(wa){var xa={reportLink:wa.reportLink,commenterIsFOF:wa.commenterIsFOF,userIsMinor:wa.userIsMinor};if(wa.undoData)xa.undoData=wa.undoData;return xa;}function ma(wa,xa){if(wa){if(xa!==undefined){var ya=(aa[wa]||0)+(xa?1:-1);aa[wa]=Math.max(ya,0);}var za=va.getComment(wa);if(za){var ab={replycount:va.getDisplayedCommentCount(wa)};ua(wa,ab);}}}function na(wa){var xa=va.getComment(wa.commentid);if(xa.status!==m.UFIStatus.DELETED){var ya=xa.parentcommentid||xa.ftentidentifier;ma(ya,true);}ta(xa,m.UFIStatus.DELETED);}function oa(wa){var xa=va.getComment(wa.commentid);if(xa.status!==m.UFIStatus.DELETED)ta(xa,m.UFIStatus.LIVE_DELETED);}function pa(wa){var xa=va.getComment(wa.commentid);if(xa.status===m.UFIStatus.DELETED){var ya=xa.parentcommentid||xa.ftentidentifier;ma(ya,false);}ta(xa,m.UFIStatus.PENDING_UNDO_DELETE);}function qa(wa){ua(wa.commentid,{attachment:null});}function ra(wa){var xa=va.getComment(wa.commentid),ya=wa.shouldHideAsSpam?m.UFIStatus.SPAM_DISPLAY:null;ta(xa,ya);}function sa(wa){ua(wa.commentid,la(wa));}function ta(wa,xa){ua(wa.id,{priorstatus:wa.status,status:xa});}function ua(wa,xa){var ya=va.getComment(wa)||new g({});va.setComment(wa,g.set(ya,xa));k.didUpdateComment(ya.id);k.didUpdateFeedback(ya.ftentidentifier);}var va={getComments:function(wa){var xa={};for(var ya=0;ya<wa.length;ya++)xa[wa[ya]]=va.getComment(wa[ya]);return xa;},getComment:function(wa){return x[da(wa)];},setComment:function(wa,xa){x[da(wa)]=xa;},getCommentsInRange:function(wa,xa,ya){var za=ea(wa),ab=null;n.getFeedbackTarget(wa,function(bb){var cb=[];for(var db=0;db<xa.length;db++)cb.push(xa.offset+db);ab=za.executeOrEnqueue(cb,function(jb){var kb=[],lb=xa.offset,mb=xa.offset+xa.length-1;for(var nb=0;nb<xa.length;nb++){var ob=bb.isranked?mb-nb:lb+nb;if(jb[ob]!=ca){var pb=this.getComment(jb[ob]);if(pb)kb.push(pb);}}ya(kb);}.bind(this));var eb=za.getUnavailableResources(ab);if(eb.length){za.unsubscribe(ab);var fb=Math.min.apply(Math,eb),gb=Math.max.apply(Math,eb),hb=fb,ib=gb-fb+1;j.trySend('/ajax/ufi/comment_fetch.php',{ft_ent_identifier:bb.entidentifier,source:null,offset:hb,length:ib});}}.bind(this));return ab;},getRepliesInRanges:function(wa,xa,ya){var za={},ab={},bb={},cb=false;n.getFeedbackTarget(wa,function(db){for(var eb in xa){var fb=ea(eb),gb=xa[eb],hb=[];for(var ib=0;ib<gb.length;ib++)hb.push(gb.offset+ib);za[eb]=fb.executeOrEnqueue(hb,function(sb){var tb=[];for(var ub=0;ub<gb.length;ub++){var vb=gb.offset+ub;if(sb[vb]!=ca){var wb=this.getComment(sb[vb]);if(wb)tb.push(wb);}}ab[eb]=tb;}.bind(this));bb[eb]=fb.getUnavailableResources(za[eb]);if(bb[eb].length){cb=true;fb.unsubscribe(za[eb]);}}if(!cb){ya(ab);}else{var jb=[],kb=[],lb=[];for(var mb in bb){var nb=bb[mb];if(nb.length){var ob=Math.min.apply(Math,nb),pb=Math.max.apply(Math,nb),qb=ob,rb=pb-ob+1;jb.push(mb);kb.push(qb);lb.push(rb);}}j.trySend('/ajax/ufi/reply_fetch.php',{ft_ent_identifier:db.entidentifier,parent_comment_ids:jb,source:null,offsets:kb,lengths:lb});}}.bind(this));return za;},getCommentCount:function(wa){return z[wa]||0;},getDeletedCount:function(wa){return aa[wa]||0;},getDisplayedCommentCount:function(wa){return (z[wa]||0)-(aa[wa]||0);}};j.registerEndpoints({'/ajax/ufi/comment_fetch.php':{mode:j.IMMEDIATE,handler:k.handleUpdate.bind(k,m.UFIPayloadSourceType.ENDPOINT_COMMENT_FETCH)},'/ajax/ufi/reply_fetch.php':{mode:j.IMMEDIATE,handler:k.handleUpdate.bind(k,m.UFIPayloadSourceType.ENDPOINT_COMMENT_FETCH)}});k.subscribe('update-comments',function(wa,xa){if(xa.comments&&xa.comments.length)fa(xa.comments,xa.payloadsource);});k.subscribe('update-actions',function(wa,xa){if(xa.actions&&xa.actions.length)ga(xa.actions);});k.subscribe('update-comment-lists',function(wa,xa){var ya=xa.commentlists;if(ya&&Object.keys(ya).length)ha(ya);});k.subscribe('update-feedback',function(wa,xa){var ya=xa.feedbacktargets;if(ya&&ya.length)ia(ya);});e.exports=va;});
__d("UFILikeLink",["ReactDOM","React","UFITrackingNodes","tx"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('React'),i=b('UFITrackingNodes'),j=b('tx'),k=h.createComponent({render:function(){var l=this.props.likeAction?"Like":"Unlike",m=i.getTrackingInfo(this.props.likeAction?i.types.LIKE_LINK:i.types.UNLIKE_LINK),n=this.props.likeAction?"Like this item":"Stop liking this item";return (g.a({className:"UFILikeLink",href:"#",role:"button",'aria-live':"polite",title:n,onClick:this.props.onClick,'data-ft':m,children:l}));}});e.exports=k;});
__d("UFIUserActions",["AsyncResponse","DOM","ImmutableObject","JSLogger","Nectar","UFICentralUpdates","UFIClientIDs","UFIComments","UFIConstants","UFIFeedbackTargets","MercuryServerDispatcher","collectDataAttributes","copyProperties","tx"],function(a,b,c,d,e,f){var g=b('AsyncResponse'),h=b('DOM'),i=b('ImmutableObject'),j=b('JSLogger'),k=b('Nectar'),l=b('UFICentralUpdates'),m=b('UFIClientIDs'),n=b('UFIComments'),o=b('UFIConstants'),p=b('UFIFeedbackTargets'),q=b('MercuryServerDispatcher'),r=b('collectDataAttributes'),s=b('copyProperties'),t=b('tx'),u=j.create('UFIUserActions'),v={BAN:'ban',UNDO_BAN:'undo_ban'},w={changeCommentLike:function(ia,ja,ka){var la=n.getComment(ia);if(la.hasviewerliked!=ja){var ma=x(ka.target),na=ja?1:-1,oa={commentid:ia,actiontype:o.UFIActionType.COMMENT_LIKE,viewerliked:ja,likecount:la.likecount+na};l.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{actions:[oa]});q.trySend('/ajax/ufi/comment_like.php',s({comment_id:ia,legacy_id:la.legacyid,like_action:ja,ft_ent_identifier:la.ftentidentifier,source:ka.source,client_id:m.getNewClientID()},ma));}},addComment:function(ia,ja,ka,la){p.getFeedbackTarget(ia,function(ma){var na=x(la.target),oa=m.getNewClientID();if(!ma.actorforpost)return;var pa={ftentidentifier:ia,body:{text:ja},author:ma.actorforpost,id:oa,islocal:true,ufiinstanceid:la.ufiinstanceid,likecount:0,hasviewerliked:false,parentcommentid:la.replyid,timestamp:{time:Date.now(),text:"a few seconds ago"}};l.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{comments:[pa]});var qa=null;if(la.replyid)qa=(n.getComment(la.replyid)).fbid;q.trySend('/ajax/ufi/add_comment.php',s({ft_ent_identifier:ma.entidentifier,comment_text:ka,source:la.source,client_id:oa,reply_fbid:qa,parent_comment_id:la.replyid,timeline_log_data:la.timelinelogdata},na));});},editComment:function(ia,ja,ka,la){var ma=x(la.target),na=n.getComment(ia);na=i.set(na,{status:o.UFIStatus.PENDING_EDIT,body:{text:ja},timestamp:{time:Date.now(),text:"a few seconds ago",original:na.timestamp.time},editnux:null,attachment:null});l.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{comments:[na]});q.trySend('/ajax/ufi/edit_comment.php',s({ft_ent_identifier:na.ftentidentifier,comment_text:ka,source:la.source,comment_id:na.id,parent_comment_id:na.parentcommentid},ma));},translateComment:function(ia,ja){q.trySend('/ajax/ufi/translate_comment.php',{ft_ent_identifier:ia.ftentidentifier,comment_ids:[ia.id],source:ja.source});},setHideAsSpam:function(ia,ja,ka){var la=x(ka.target),ma=n.getComment(ia),na={commentid:ia,actiontype:o.UFIActionType.COMMENT_SET_SPAM,shouldHideAsSpam:ja};l.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{actions:[na]});q.trySend('/ajax/ufi/comment_spam.php',s({comment_id:ia,spam_action:ja,ft_ent_identifier:ma.ftentidentifier,source:ka.source},la));},removeComment:function(ia,ja){var ka=x(ja.target),la=n.getComment(ia),ma={actiontype:o.UFIActionType.DELETE_COMMENT,commentid:ia,oneclick:ja.oneclick};l.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{actions:[ma]});q.trySend('/ajax/ufi/delete_comment.php',s({comment_id:la.id,comment_legacyid:la.legacyid,ft_ent_identifier:la.ftentidentifier,one_click:ja.oneclick,source:ja.source,client_id:m.getNewClientID(),timeline_log_data:ja.timelinelogdata},ka));},undoRemoveComment:function(ia,ja,ka){var la=n.getComment(ia);if(!la.undoData){u.error('noundodata',{comment:ia});return;}var ma=x(ka.target),na={actiontype:o.UFIActionType.UNDO_DELETE_COMMENT,commentid:ia};l.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{actions:[na]});var oa=la.undoData;oa.page_admin=ja;var pa=s(ma,oa);q.trySend('/ajax/ufi/undo_delete_comment.php',pa);},banUser:function(ia,ja,ka,la){var ma=ka?v.BAN:v.UNDO_BAN;q.trySend('/ajax/ufi/ban_user.php',{page_id:ja,commenter_id:ia.author,action:ma,comment_id:ia.id,client_side:true});},changeLike:function(ia,ja,ka){p.getFeedbackTarget(ia,function(la){var ma=x(ka.target);if(la.hasviewerliked!==ja){var na=ja?1:-1,oa={actiontype:o.UFIActionType.LIKE_ACTION,actorid:la.actorforpost,hasviewerliked:ja,likecount:la.likecount+na,entidentifier:ia,likesentences:{current:la.likesentences.alternate,alternate:la.likesentences.current}};l.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{actions:[oa]});q.trySend('/ajax/ufi/like.php',s({like_action:ja,ft_ent_identifier:ia,source:ka.source,client_id:m.getNewClientID()},ma));}});},fetchSpamComments:function(ia,ja,ka){q.trySend('/ajax/ufi/id_comment_fetch.php',{ft_ent_identifier:ia,comment_ids:ja,parent_comment_id:ka,source:null});},removePreview:function(ia,ja){var ka=x(ja.target),la={commentid:ia.id,actiontype:o.UFIActionType.REMOVE_PREVIEW};l.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{actions:[la]});q.trySend('/ajax/ufi/remove_preview.php',s({comment_id:ia.id,ft_ent_identifier:ia.ftentidentifier,source:ja.source},ka));}};function x(ia){if(!ia)return {ft:{}};var ja={ft:r(ia,['ft']).ft};k.addModuleData(ja,ia);return ja;}function y(ia){var ja=ia.request.data;g.defaultErrorHandler(ia);var ka=ja.client_id||ja.comment_id,la=n.getComment(ka),ma=(la.status===o.UFIStatus.PENDING_EDIT)?o.UFIStatus.FAILED_EDIT:o.UFIStatus.FAILED_ADD;la=i.setDeep(la,{status:ma,allowRetry:z(ia),body:{mentionstext:ja.comment_text}});l.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{comments:[la]});}function z(ia){var ja=ia.getError();if(ja===1404074)return false;if(ia.silentError)return true;if(ja===1357012||ja===1357006)return false;return true;}function aa(ia){var ja=ia.request.data,ka=ja.comment_id,la=n.getComment(ka);la=i.set(la,{status:la.priorstatus||null,priorstatus:undefined});l.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{comments:[la]});}function ba(ia){var ja=ia.request.data,ka=ja.comment_id,la=n.getComment(ka);if(ja.like_action===la.hasviewerliked){var ma=la.hasviewerliked?-1:1,na={commentid:ka,actiontype:o.UFIActionType.COMMENT_LIKE,viewerliked:!la.hasviewerliked,likecount:la.likecount+ma};l.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{actions:[na]});}g.defaultErrorHandler(ia);}function ca(ia){var ja=ia.request.data,ka=ja.ft_ent_identifier;p.getFeedbackTarget(ka,function(la){if(la.hasviewerliked===ja.like_action){var ma=la.hasviewerliked?-1:1,na={actiontype:o.UFIActionType.LIKE_ACTION,actorid:la.actorforpost,hasviewerliked:!la.hasviewerliked,likecount:la.likecount+ma,entidentifier:ka,likesentences:{current:la.likesentences.alternate,alternate:la.likesentences.current}};l.handleUpdate(o.UFIPayloadSourceType.USER_ACTION,{actions:[na]});}});g.defaultErrorHandler(ia);}var da=function(ia){return l.handleUpdate.bind(l,ia);},ea=o.UFIPayloadSourceType;q.registerEndpoints({'/ajax/ufi/comment_like.php':{mode:q.BATCH_CONDITIONAL,handler:da(ea.ENDPOINT_COMMENT_LIKE),error_handler:ba,batch_if:fa,batch_function:ha},'/ajax/ufi/comment_spam.php':{mode:q.IMMEDIATE,handler:da(ea.ENDPOINT_COMMENT_SPAM),error_handler:aa},'/ajax/ufi/add_comment.php':{mode:q.IMMEDIATE,handler:da(ea.ENDPOINT_ADD_COMMENT),error_handler:y},'/ajax/ufi/delete_comment.php':{mode:q.IMMEDIATE,handler:da(ea.ENDPOINT_DELETE_COMMENT),error_handler:aa},'/ajax/ufi/undo_delete_comment.php':{mode:q.IMMEDIATE,handler:da(ea.ENDPOINT_UNDO_DELETE_COMMENT),error_handler:aa},'/ajax/ufi/ban_user.php':{mode:q.IMMEDIATE,handler:da(ea.ENDPOINT_BAN)},'/ajax/ufi/edit_comment.php':{mode:q.IMMEDIATE,handler:da(ea.ENDPOINT_EDIT_COMMENT),error_handler:y},'/ajax/ufi/like.php':{mode:q.BATCH_CONDITIONAL,handler:da(ea.ENDPOINT_LIKE),error_handler:ca,batch_if:ga,batch_function:ha},'/ajax/ufi/id_comment_fetch.php':{mode:q.IMMEDIATE,handler:da(ea.ENDPOINT_ID_COMMENT_FETCH)},'/ajax/ufi/remove_preview.php':{mode:q.IMMEDIATE,handler:da(ea.ENDPOINT_REMOVE_PREVIEW)},'/ajax/ufi/translate_comment.php':{mode:q.IMMEDIATE,handler:da(ea.ENDPOINT_TRANSLATE_COMMENT)}});function fa(ia,ja){return ia&&ia.ft_ent_identifier==ja.ft_ent_identifier&&ia.comment_id==ja.comment_id;}function ga(ia,ja){return ia&&ia.ft_ent_identifier==ja.ft_ent_identifier;}function ha(ia,ja){return ja;}e.exports=w;});
__d("UFIActionLinkController",["ReactDOM","event-extensions","Arbiter","CSS","DOMQuery","Parent","React","UFIBlingBox","UFICentralUpdates","UFIComments","UFILikeLink","UFIFeedbackTargets","UFITrackingNodes","UFIUserActions","copyProperties"],function(a,b,c,d,e,f){b('event-extensions');var g=b('Arbiter'),h=b('CSS'),i=b('DOMQuery'),j=b('Parent'),k=b('React'),l=b('UFIBlingBox'),m=b('UFICentralUpdates'),n=b('UFIComments'),o=b('UFILikeLink'),p=b('UFIFeedbackTargets'),q=b('UFITrackingNodes'),r=b('UFIUserActions'),s=b('copyProperties');function t(v,w,x){if(this._root)throw new Error('UFIActionLinkController attempted to initialize when a root was'+' already present');var y=i.scry(v,w)[0];if(y){var z=document.createElement('span');y.parentNode.replaceChild(z,y);z.appendChild(y);if(typeof x==="function")x(z);}else var aa=g.subscribe('PhotoSnowlift.DATA_CHANGE',function(){g.unsubscribe(aa);t(v,w,x);},g.SUBSCRIBE_NEW);}var u=function(v,w,x){this._id=w.ftentidentifier;this._source=w.source;this._contextArgs=w;this._ufiRoot=v;this._attemptInitializeBling();if(x.viewercanlike)this._attemptInitializeLike();m.subscribe('feedback-updated',function(y,z){var aa=z.updates;if(this._id in aa)this.render();}.bind(this));m.subscribe('feedback-id-changed',function(y,z){var aa=z.updates;if(this._id in aa)this._id=aa[this._id];}.bind(this));};s(u.prototype,{_attemptInitializeBling:function(){t(this._ufiRoot,'^form .uiBlingBox',function(v){this._blingRoot=v;if(this._dataReady)this._renderBling();}.bind(this));},_attemptInitializeLike:function(){t(this._ufiRoot,'^form .like_link',function(v){this._likeRoot=v;if(this._dataReady)this._renderLike();}.bind(this));},render:function(){this._dataReady=true;this._renderBling();this._renderLike();},_renderBling:function(){if(this._blingRoot)p.getFeedbackTarget(this._id,function(v){var w=function(event){var z=j.byTag(event.target,"form");h.toggleClass(z,"collapsed_comments");h.toggleClass(z,"hidden_add_comment");event.preventDefault();}.bind(this),x=q.getTrackingInfo(q.types.BLINGBOX),y=l({likes:v.likecount,comments:n.getDisplayedCommentCount(this._id),reshares:v.sharecount,permalink:v.permalink,contextArgs:this._contextArgs,onClick:w,'data-ft':x});this._blingBox=k.renderOrUpdateComponent(y,this._blingRoot);}.bind(this));},_renderLike:function(){if(this._likeRoot)p.getFeedbackTarget(this._id,function(v){var w=!v.hasviewerliked,x=function(event){r.changeLike(this._id,w,{source:this._source,target:event.target});event.preventDefault();}.bind(this),y=o({onClick:x,likeAction:w});this._likeLink=k.renderOrUpdateComponent(y,this._likeRoot);}.bind(this));}});e.exports=u;});
__d("MentionsInputUtils",[],function(a,b,c,d,e,f){var g={generateDataFromTextWithEntities:function(h){var i=h.text,j={};(h.ranges||[]).forEach(function(k){var l=k.entities[0];if(!l.external)j[l.id]=i.substr(k.offset,k.length);});return {flattened:i,mention_data:j};}};e.exports=g;});
__d("Layout",["keyMirror"],function(a,b,c,d,e,f){var g=b('keyMirror'),h={small:true,medium:true,large:true,none:true},i={small:true,medium:true,large:true,huge:true},j={none:true,medium:true,light:true,dark:true},k={dark:true,inverted:true,standard:true},l={top:true,middle:true,bottom:true},m={left:true,center:true,right:true},n={horizontal:true,vertical:true},o={spacing:g(h),size:g(i),boldness:g(j),appearance:g(k),direction:g(n),vAlign:g(l),hAlign:g(m)};e.exports=o;});
__d("bindNoArgs",[],function(a,b,c,d,e,f){var g=function(h,i){if(!h)return null;return function(){return h.call(i);};};e.exports=g;});
__d("curryOnly",[],function(a,b,c,d,e,f){var g=function(h,i,j){if(!h)return null;return function(){return h.call(j,i);};};e.exports=g;});
__d("reactKeys",[],function(a,b,c,d,e,f){var g=function(h){var i=[],j;for(j in h)if(h.hasOwnProperty(j))i.push(j);return i;};e.exports=g;});
__d("mergeDeep",["mergeHelpers","mergeDeepInto"],function(a,b,c,d,e,f){var g=b('mergeHelpers'),h=b('mergeDeepInto'),i=g.checkMergeLevel,j=g.checkArrayStrategy,k=g.checkMergeObjectArgs,l=g.isTerminal,m=g.normalizeMergeArg,n=function(o,p,q){var r=m(o),s=m(p);k(r,s);j(q);var t={};h(t,r,q);h(t,s,q);return t;};e.exports=n;});
__d("ReactUtils",["bindNoArgs","curryOnly","keyMirror","keyOf","reactKeys","merge","mergeDeep","mergeDeepInto","mergeHelpers","mergeInto","mixInto","objMapKeyVal"],function(a,b,c,d,e,f){var g=b('bindNoArgs'),h=b('curryOnly'),i=b('keyMirror'),j=b('keyOf'),k=b('reactKeys'),l=b('merge'),m=b('mergeDeep'),n=b('mergeDeepInto'),o=b('mergeHelpers'),p=b('mergeInto'),q=b('mixInto'),r=b('objMapKeyVal');f.bindNoArgs=g;f.curryOnly=h;f.keyMirror=i;f.keyOf=j;f.keys=k;f.merge=l;f.mergeDeep=m;f.mergeInto=p;f.mixInto=q;f.objMapKeyVal=r;});
__d("LeftRight",["ReactDOM","React","ReactErrors","ReactUtils"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('React'),i=b('ReactErrors'),j=b('ReactUtils'),k=j.keyMirror({left:true,right:true,both:true});function l(n){i.throwIf(!n.children||n.children.length<1||n.children.length>2,"LeftRight component must have one or two children.");}var m=h.createComponent({render:function(){l(this.props);var n=this.props.direction||k.both,o=[{clearfix:true},this.props.classSet],p={lfloat:n===k.left||n===k.both},q={rfloat:n===k.right||n===k.both},r=g.div({classSet:p,children:this.props.children[0]}),s=(this.props.children.length<2)?null:g.div({classSet:q,children:this.props.children[1]}),t=(n===k.right&&s)?[s,r]:[r,s],u=g.div({classSet:o,children:t});u.props=j.merge(this.props,u.props);return u;}});m.DIRECTION=k;e.exports=m;});
__d("ImageBlock",["ReactDOM","Layout","LeftRight","React","ReactUtils","ReactErrors","cx"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('Layout'),i=b('LeftRight'),j=b('React'),k=b('ReactUtils'),l=b('ReactErrors'),m=b('cx'),n=h.spacing;function o(s){l.throwIf(!s.children||s.children.length>3||s.children.length<1,"ImageBlock requires two or three children.");}function p(s){var t={img:true};t["-cx-PRIVATE-uiImageBlock__image"]=true;t["-cx-PRIVATE-uiImageBlock__smallImage"]=s===n.small;t["-cx-PRIVATE-uiImageBlock__mediumImage"]=s===n.medium;t["-cx-PRIVATE-uiImageBlock__largeImage"]=s===n.large;return t;}function q(s,t,u){s.props.classSet=[p(t),s.props.classSet,u];}var r=j.createComponent({render:function(){o(this.props);var s=this.props.children[0],t=this.props.children[1],u=this.props.children[2],v=this.props.spacing||n.small;q(s,v,this.props.imageClassSet);var w=this.props.contentClassSet||{};w["-cx-PRIVATE-uiImageBlock__content"]=true;w["-cx-PRIVATE-uiImageBlock__smallContent"]=v===n.small;if(s.tagName=='IMG'){if(s.props.alt===undefined)s.props.alt='';}else if((s.tagName=='A'||s.tagName=='LINK')&&s.props.tabIndex===undefined&&s.props.title===undefined&&s.props['aria-label']===undefined){s.props.tabIndex='-1';s.props['aria-hidden']='true';}var x;if(!u){x=g.div({classSet:w,children:t});}else x=i({classSet:w,direction:i.DIRECTION.right,children:[t,u]});var y=i({classSet:this.props.classSet,direction:i.DIRECTION.left,children:[s,x]});y.props=k.merge(this.props,y.props);return y;}});e.exports=r;});
__d("ReactLegacyMentionsInput",["ReactDOM","PlaceholderListener","Bootloader","Event","Keys","React"],function(a,b,c,d,e,f){var g=b('ReactDOM');b('PlaceholderListener');var h=b('Bootloader'),i=b('Event'),j=b('Keys'),k=b('React'),l=k.createComponent({onDomReady:function(m){this.props.initialData&&this._initializeTextarea(m);this.props.autofocus&&this.focus();},hasEnteredText:function(){return !!(this._mentionsInput&&this._mentionsInput.getValue().trim());},_handleKeydown:function(event){var m=event.nativeEvent,n=this.props.onEnterSubmit,o=i.getKeyCode(m)==j.RETURN&&!i.$E(m).getModifiers().any,p=this._mentionsInput&&this._mentionsInput.getTypeahead().getView().getSelection();if(n&&o&&!p){var q=event.target,r=q.value&&q.value.trim();if(r||this.props.acceptEmptyInput){var s={visibleValue:r,encodedValue:r};if(this._mentionsInput){s.encodedValue=this._mentionsInput.getRawValue().trim();this._mentionsInput.reset({flattened:''});}n(s,event);}event.preventDefault();}},_handleFocus:function(){this.props.onFocus&&this.props.onFocus();this._initializeTextarea(this.refs.root.getDOMNode());},_handleBlur:function(){this.props.onBlur&&this.props.onBlur();},_initializeTextarea:function(m){if(this._mentionsInput||this._bootloadingMentions)return;this._bootloadingMentions=true;h.loadModules(['CompactTypeaheadRenderer','ContextualTypeaheadView','InputSelection','MentionsInput','TextAreaControl','Typeahead','TypeaheadAreaCore','TypeaheadBestName','TypeaheadHoistFriends','TypingDetector'],function(n,o,p,q,r,s,t,u,v,w){var x=this.refs.textarea.getDOMNode();new r(x);if(this.props.onTypingStateChange){var y=new w(x);y.init();y.subscribe('change',this.props.onTypingStateChange);}var z={autoSelect:true,renderer:n},aa=new s(this.props.datasource,{ctor:o,options:z},{ctor:t},this.refs.typeahead.getDOMNode());aa.init([u,v]);this._mentionsInput=new q(m,aa,x,{});this._mentionsInput.init({max:6},this.props.initialData);if(this.props.initialData)p.set(x,x.value.length);this._bootloadingMentions=false;}.bind(this));},focus:function(){try{this.refs.textarea.getDOMNode().focus();}catch(m){}},render:function(){var m={textInput:true,mentionsTextarea:true,uiTextareaAutogrow:true,uiTextareaNoResize:true,UFIAddCommentInput:true,DOMControl_placeholder:true};return (g.div({ref:"root",className:"uiMentionsInput textBoxContainer ReactLegacyMentionsInput",children:[g.div({className:"highlighter",children:g.div({children:g.span({className:"highlighterContent hidden_elem"})})}),g.div({ref:"typeahead",className:"uiTypeahead mentionsTypeahead",children:g.div({className:"wrap",children:[g.input({type:"hidden",autocomplete:"off",className:"hiddenInput"}),g.div({className:"innerWrap",children:g.textarea({ref:"textarea",name:"add_comment_text",classSet:m,title:this.props.placeholder,content:this.props.placeholder,placeholder:this.props.placeholder,onFocus:this._handleFocus.bind(this),onBlur:this._handleBlur.bind(this),onKeyDown:this._handleKeydown.bind(this)})})]})}),g.input({type:"hidden",autocomplete:"off",className:"mentionsHidden",value:""})]}));}});e.exports=l;});
__d("UFIClassSets",["cx"],function(a,b,c,d,e,f){var g=b('cx'),h={img:true,UFIActorImage:true};h["-cx-PRIVATE-uiSquareImage__medium"]=true;var i={UFIRow:true},j={UFIUnseenItem:true};e.exports={ROW:i,ACTOR_IMAGE:h,UNSEEN_ITEM:j};});
__d("UFIAddComment",["ReactDOM","event-extensions","ImageBlock","Keys","React","ReactLegacyMentionsInput","UFIClassSets","UFITrackingNodes","tx"],function(a,b,c,d,e,f){var g=b('ReactDOM');b('event-extensions');var h=b('ImageBlock'),i=b('Keys'),j=b('React'),k=b('ReactLegacyMentionsInput'),l=b('UFIClassSets'),m=b('UFITrackingNodes'),n=b('tx'),o="Write a comment...",p="Write a reply...",q={UFICommentTip:true,fcg:true,fss:true},r={UFITextReplyDimensions:true},s=j.createComponent({getInitialState:function(){return {isCommenting:false};},_onKeyDown:function(event){if(this.props.isEditing&&Event.getKeyCode(event.nativeEvent)===i.ESC)this.props.onCancel();},_blur:function(){if(this.refs.mentionsinput&&this.refs.mentionsinput.hasEnteredText())return;this.updateState({isCommenting:false});},focus:function(){if(this.refs&&this.refs.mentionsinput)this.refs.mentionsinput.focus();},render:function(){var t;if(this.props.contextArgs.entstream){t=this.state.isCommenting;}else t=!this.props.contextArgs.collapseaddcomment||this.state.isCommenting;var u=null;if(this.props.isEditing){u=g.span({classSet:q,children:"Press Esc to cancel."});}else if(this.props.showSendOnEnterTip)u=g.span({classSet:q,children:"Press Enter to post."});var v=m.getTrackingInfo(m.types.ADD_COMMENT_BOX),w=[l.ACTOR_IMAGE,{hidden_elem:!t}],x=g.img({classSet:w,src:this.props.viewerActor.thumbSrc});if(this.props.contextArgs.entstream)x=g.div({classSet:{UFIReplyActorPhotoWrapper:true},children:x});var y=[l.ROW,{UFIAddComment:true,noDisplay:this.props.hide},{UFICommentReply:this.props.replyCommentID},{UFIAddCommentActorShown:t}],z={UFIMentionsInputWrap:true},aa=!!this.props.replyCommentID?p:o,ba=this.props.contextArgs.entstream?this._blur.bind(this):null;return (g.li({classSet:y,onKeyDown:this._onKeyDown.bind(this),'data-ft':v,children:h({classSet:z,imageClassSet:{UFIImageBlockImage:true},contentClassSet:{UFIImageBlockContent:true},children:[x,g.div({children:[k({autofocus:this.props.autofocus,initialData:this.props.initialData,placeholder:aa,ref:"mentionsinput",wrapperClassSet:r,datasource:this.props.mentionsDataSource,acceptEmptyInput:this.props.isEditing,onEnterSubmit:this.props.onCommentSubmit,onFocus:this.createStateUpdater({isCommenting:true}),onBlur:ba,onTypingStateChange:this.props.onTypingStateChange}),u]})]})}));}});e.exports=s;});
__d("UFIAddCommentController",["ReactDOM","Arbiter","copyProperties","MentionsInputUtils","Parent","UFIAddComment","React","ShortProfiles","UFICentralUpdates","UFIComments","UFIFeedbackTargets","UFIInstanceState","UFIUserActions"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('copyProperties'),i=b('MentionsInputUtils'),j=b('Parent'),k=b('UFIAddComment'),l=b('React'),m=b('ShortProfiles'),n=b('UFICentralUpdates'),o=b('UFIComments'),p=b('UFIFeedbackTargets'),q=b('UFIInstanceState'),r=b('UFIUserActions');function s(t,u,v,w){this.id=u;this._ufiInstanceID=w.instanceid;this._contextArgs=w;this._replyCommentID=v;if(t){this.root=t;this.render();n.subscribe('instance-updated',function(x,y){var z=y.updates;if(this._ufiInstanceID in z)this.render();}.bind(this));}n.subscribe('feedback-id-changed',function(x,y){var z=y.updates;if(this.id in z)this.id=z[this.id];}.bind(this));}h(s.prototype,{_onCommentSubmit:function(t,event){r.addComment(this.id,t.visibleValue,t.encodedValue,{source:this._contextArgs.source,ufiinstanceid:this._ufiInstanceID,target:event.target,replyid:this._replyCommentID,timelinelogdata:this._contextArgs.timelinelogdata});p.getFeedbackTarget(this.id,function(v){if(v.isranked&&this._replyCommentID===null)q.updateState(this._ufiInstanceID,'scrolloninsert',true);}.bind(this));var u=j.byTag(this.root,'form');if(u)g.inform('ufi/comment',{form:u});return false;},_onTypingStateChange:function(t,u){},renderAddComment:function(t,u,v,w,x){var y=this._contextArgs.logtyping?this._onTypingStateChange.bind(this):null,z=null,aa=q.getKeyForInstance(this._ufiInstanceID,'isediting')&&!this._replyCommentID;return (k({autofocus:x,hide:aa,replyCommentID:this._replyCommentID,viewerActor:t,initialData:z,ref:w,onCommentSubmit:this._onCommentSubmit.bind(this),mentionsDataSource:u,onTypingStateChange:y,showSendOnEnterTip:v,source:this._contextArgs.source,contextArgs:this._contextArgs}));},renderEditComment:function(t,u,v,w,x){var y=o.getComment(u),z=i.generateDataFromTextWithEntities(y.body);return (k({viewerActor:t,initialData:z,onCommentSubmit:w,onCancel:x,mentionsDataSource:v,source:this._contextArgs.source,contextArgs:this._contextArgs,isEditing:true}));},render:function(){if(!this.root)throw new Error('render called on UFIAddCommentController with no root');p.getFeedbackTarget(this.id,function(t){if(t.cancomment&&t.actorforpost)m.get(t.actorforpost,function(u){var v=this.renderAddComment(u,t.mentionsdatasource,t.showsendonentertip);this._addComment=l.renderOrUpdateComponent(v,this.root);}.bind(this));}.bind(this));}});e.exports=s;});
__d("ReactLegacyScrollableArea",["ReactDOM","Scrollable","Bootloader","React","Style"],function(a,b,c,d,e,f){var g=b('ReactDOM');b('Scrollable');var h=b('Bootloader'),i=b('React'),j=b('Style'),k={uiScrollableArea:true,native:true},l={uiScrollableAreaWrap:true,scrollable:true},m={uiScrollableAreaBody:true},n={uiScrollableAreaContent:true},o=i.createComponent({render:function(){var p={height:this.props.height?this.props.height+'px':'auto'};return (g.div({classSet:k,ref:"root",style:p,children:g.div({classSet:l,children:g.div({classSet:m,ref:"body",children:g.div({classSet:n,children:this.props.children})})})}));},onDomReady:function(){h.loadModules(['ScrollableArea'],this._loadScrollableArea.bind(this));},_loadScrollableArea:function(p){this._area=p.fromNative(this.refs.root.getDOMNode(),{fade:this.props.fade,persistent:this.props.persistent});var q=this.refs.body.getDOMNode();j.set(q,'width',this.props.width+'px');this.props.onScroll&&this._area.subscribe('scroll',this.props.onScroll);}});e.exports=o;});
__d("CloseButton",["ReactDOM","Layout","React","ReactUtils","$"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('Layout'),i=b('React'),j=b('ReactUtils'),k=b('$'),l=i.createComponent({render:function(){var m=this.props,n=m.size||h.size.medium,o=m.appearance||h.appearance.normal,p=n===h.size.small,q=n===h.size.huge,r=o===h.appearance.dark,s=o===h.appearance.inverted,t={uiCloseButton:true,uiCloseButtonSmall:p,uiCloseButtonHuge:q,uiCloseButtonSmallDark:p&&r,uiCloseButtonSmallInverted:p&&s,uiCloseButtonDark:!p&&r,uiCloseButtonInverted:!p&&s},u=[t,m.classSet],v=(g.a({href:"#",role:"button",'aria-label':m.tooltip,'data-hover':m.tooltip&&'tooltip','data-tooltip-alignh':m.tooltip&&'center',classSet:u}));v.props=j.merge(m,v.props);return v;}});e.exports=l;});
__d("HovercardLink",["URI"],function(a,b,c,d,e,f){var g=b('URI'),h={getBaseURI:function(){return g('/ajax/hovercard/hovercard.php');},constructEndpoint:function(i){return new g(h.getBaseURI()).setQueryData({id:i.id});}};e.exports=h;});
__d("Link",["ReactDOM","React","UntrustedLink","$","mergeInto"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('React'),i=b('UntrustedLink'),j=b('$'),k=b('mergeInto'),l=h.createComponent({_installLinkshimOnMouseDown:function(event){var m=this.props.href;if(m.shimhash)i.bootstrap(j(this._rootDomId),m.shimhash);this.props.onMouseDown&&this.props.onMouseDown(event);},render:function(){var m=this.props.href,n=g.a({});k(n.props,this.props);if(m){n.props.href=m.url;var o=!!m.shimhash;if(o){n.props.rel=n.props.rel?(n.props.rel+' nofollow'):'nofollow';n.props.onMouseDown=this._installLinkshimOnMouseDown.bind(this);}}return n;}});e.exports=l;});
__d("HovercardLinkInterpolator",["ReactDOM","HovercardLink","Link"],function(a,b,c,d,e,f){var g=b('HovercardLink'),h=b('Link');function i(j,k,l){var m=k.entities[0],n=l||(m.external?'_blank':null),o=h({href:m,content:j,target:n});if(!m.external)o.props['data-hovercard']=g.constructEndpoint(m).toString();return o;}e.exports=i;});
__d("LinkButton",["ReactDOM"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=function(i){var j=i.name&&i.value?i.name+'['+encodeURIComponent(i.value)+']':null;return (g.label({classSet:{uiLinkButton:true,uiLinkButtonSubtle:i.subtle,async_throbber:i.showSaving},children:g.input({type:i.inputType||'button',name:j,value:i.label,classSet:{stat_elem:i.showSaving}})}));};e.exports=h;});
__d("ProfileBrowserLink",["URI"],function(a,b,c,d,e,f){var g=b('URI'),h='/ajax/browser/dialog/',i='/browse/',j=function(l,m,n){return new g(l+m).setQueryData(n);},k={constructPageURI:function(l,m){return j(i,l,m);},constructDialogURI:function(l,m){return j(h,l,m);}};e.exports=k;});
__d("ProfileBrowserTypes",[],function(a,b,c,d,e,f){var g={LIKES:'likes',GROUP_MESSAGE_VIEWERS:'group_message_viewers',MUTUAL_FRIENDS:'mutual_friends'};e.exports=g;});
__d("Timestamp",["ReactDOM","event-extensions","LiveTimer","React"],function(a,b,c,d,e,f){var g=b('ReactDOM');b('event-extensions');var h=b('LiveTimer'),i=b('React'),j=i.createComponent({render:function(){var k=h.renderRelativeTimeToServer(this.props.time),l=k.text;if(!l)l=this.props.text;var m={livetimestamp:true};if(this.props.className)m[this.props.className]=true;return (g.abbr({classSet:m,title:this.props.verbose,'data-utime':this.props.time,content:l}));}});e.exports=j;});
__d("ReactTextWithEmoticons",["ReactDOM","Emoji","Emote","React"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('Emoji'),i=b('Emote'),j=b('React'),k=j.createComponent({render:function(){if(!this.props.renderEmoticons&&!this.props.renderEmoji)return g.span({content:this.props.text});var l;if(this.props.renderEmoticons&&this.props.renderEmoji){l=h.htmlEmoji(this.props.text,i.htmlEmoteWithoutFBID);}else if(this.props.renderEmoticons){l=i.htmlEmoteWithoutFBID(this.props.text);}else l=h.htmlEmoji(this.props.text);return g.span({dangerouslySetInnerHtml:{__html:l}});}});e.exports=k;});
__d("ReactTextWithEntities",["ReactDOM","Link","React","ReactTextWithEmoticons"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('Link'),i=b('React'),j=b('ReactTextWithEmoticons');function k(q){return (q).replace(/<3\b|&hearts;/g,'\u2665');}function l(q,r){return (h({href:r.entities[0],children:[q]}));}function m(q,r){return q.offset-r.offset;}function n(q){return !!q;}var o=/(\r\n|[\r\n])/,p=i.createComponent({_formatStandardText:function(q){var r=q.split(o),s=[];for(var t=0;t<r.length;t++){var u=r[t];if(u)if(o.test(u)){s.push(g.br({}));}else if(this.props.renderEmoticons||this.props.renderEmoji){s.push(j({text:u,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji}));}else s.push(k(u));}return s;},render:function(){var q=0,r=this.props.ranges,s=this.props.aggregatedRanges,t=this.props.text,u=null;if(r){u=s?r.concat(s):r.slice();}else if(s)u=s.slice();if(u)u.sort(m);var v=[],w=u?u.length:0;for(var x=0,y=w;x<y;x++){var z=u[x];if(z.offset<q)continue;if(z.offset>q)v=v.concat(this._formatStandardText(t.substring(q,z.offset)));var aa=t.substr(z.offset,z.length);v=v.concat([this.props.interpolator?this.props.interpolator(aa,z):l(aa,z)]);q=z.offset+z.length;}if(t.length>q)v=v.concat(this._formatStandardText(t.substr(q)));return g.span({classSet:this.props.classSet,children:v});}});e.exports=p;});
__d("SeeMore",["ReactDOM","React","tx"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('React'),i=b('tx'),j="...",k="See More",l={SeeMoreLink:true,fss:true},m=h.createComponent({getInitialState:function(){return {isCollapsed:true};},render:function(){var n=this.state.isCollapsed,o=!n?null:g.span({content:j}),p=this.props.children[0],q=n?null:g.span({children:this.props.children[1]}),r=!n?null:g.a({classSet:l,onClick:this.createStateUpdater({isCollapsed:false}),content:k,href:"#",role:"button"});return (g.span({classSet:this.props.classSet,children:[p,o,r,q]}));}});e.exports=m;});
__d("TruncatedTextWithEntities",["ReactDOM","React","ReactTextWithEntities","SeeMore"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('React'),i=b('ReactTextWithEntities'),j=b('SeeMore');function k(o,p){var q=o.offset+o.length;return p>o.offset&&p<q;}function l(o,p){for(var q=0;q<o.length;q++){var r=o[q];if(k(r,p))return r.offset;}return p;}var m=function(o,p,q){var r=[],s=[],t=l(p,q);for(var u=0;u<p.length;u++){var v=p[u];if(v.offset<t){r.push(v);}else s.push({offset:v.offset-t,length:v.length,entities:v.entities});}return {first:{ranges:r,text:o.substr(0,t)},second:{ranges:s,text:o.substr(t)}};},n=h.createComponent({render:function(){var o=this.props.maxLines,p=this.props.maxLength,q=this.props.truncationPercent||.6,r=Math.floor(q*p),s=this.props.text||'',t=this.props.ranges||[],u=s.split('\n'),v=u.length-1,w=p&&s.length>p,x=o&&v>o;if(x)r=Math.min(u.slice(0,o).join('\n').length,r);if(w||x){var y=m(s,t,r);return (g.span({'data-ft':this.props['data-ft'],dir:this.props.dir,children:j({classSet:this.props.classSet,children:[i({interpolator:this.props.interpolator,ranges:y.first.ranges,text:y.first.text,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji}),i({interpolator:this.props.interpolator,ranges:y.second.ranges,text:y.second.text,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji})]})}));}else return (g.span({'data-ft':this.props['data-ft'],dir:this.props.dir,children:i({classSet:this.props.classSet,interpolator:this.props.interpolator,ranges:t,text:s,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji})}));}});e.exports=n;});
__d("UFIReplyLink",["ReactDOM","React","tx"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('React'),i=b('tx'),j=h.createComponent({render:function(){return (g.a({href:"#",onClick:this.props.onClick,children:"Reply"}));}});e.exports=j;});
__d("UFISpamCount",["UFISpamCountImpl"],function(a,b,c,d,e,f){e.exports=b('UFISpamCountImpl').module||{enabled:false};});
__d("UFIComment",["ReactDOM","function-extensions","AbstractEvent","Bootloader","CloseButton","Env","Focus","HovercardLink","HovercardLinkInterpolator","ImageBlock","Layout","LinkButton","ProfileBrowserLink","ProfileBrowserTypes","React","ReactUtils","Timestamp","TruncatedTextWithEntities","UFIClassSets","UFIConstants","UFIInstanceState","UFIReplyLink","UFISpamCount","UFITrackingNodes","URI","tx","UFIConfig"],function(a,b,c,d,e,f){var g=b('ReactDOM');b('function-extensions');var h=b('AbstractEvent'),i=b('Bootloader'),j=b('CloseButton'),k=b('Env'),l=b('Focus'),m=b('HovercardLink'),n=b('HovercardLinkInterpolator'),o=b('ImageBlock'),p=b('Layout'),q=b('LinkButton'),r=b('ProfileBrowserLink'),s=b('ProfileBrowserTypes'),t=b('React'),u=b('ReactUtils'),v=b('Timestamp'),w=b('TruncatedTextWithEntities'),x=b('UFIClassSets'),y=b('UFIConstants'),z=b('UFIInstanceState'),aa=b('UFIReplyLink'),ba=b('UFISpamCount'),ca=y.UFIStatus,da=b('UFITrackingNodes'),ea=b('URI'),fa=b('tx'),ga=b('UFIConfig'),ha=' \u00b7 ',ia={UFICommentBody:true},ja={UFICommentActorName:true},ka={UFICommentNotSpamLink:true},la=u.keyMirror({edit:true,hide:true,remove:true}),ma={UFICommentActions:true,fsm:true,fwn:true,fcg:true},na={UFIFailureMessage:true},oa={UFIFailureMessageIcon:true},pa={UFITranslateLink:true},qa={UFITranslatedText:true},ra={UFICommentLikeButton:true},sa={UFICommentLikeIcon:true},ta={UFICommentReplyButton:true},ua={UFICommentReplyIcon:true},va={UFICommentBlingBox:true},wa={uiLinkSubtle:true},xa={stat_elem:true},ya={pls:true},za={fcg:true},ab=27,bb=null,cb=function(lb,mb){var nb=new ea('/ajax/like/tooltip.php').setQueryData({comment_fbid:lb.fbid,comment_from:lb.author,cache_buster:lb.likeconfirmhash||0});if(mb)nb.addQueryData({viewas:mb});return nb;},db=function(lb){var mb=lb.status;return mb===ca.FAILED_ADD||mb===ca.FAILED_EDIT;};function eb(lb){return lb.commenterIsFOF!==undefined&&lb.userIsMinor!==undefined&&lb.reportLink!==undefined;}var fb=t.createComponent({render:function(){var lb=this.props.comment,mb=lb.likecount||0,nb=s.LIKES,ob={id:lb.fbid},pb=cb(this.props.comment,this.props.viewas),qb=g.i({classSet:sa}),rb=g.span({content:mb});return (g.a({classSet:ra,href:"#",role:"button",rel:"dialog",'data-hover':"tooltip",'data-tooltip-alignh':"center",'data-tooltip-uri':pb.toString(),ajaxify:r.constructDialogURI(nb,ob).toString(),href:r.constructPageURI(nb,ob).toString(),children:[qb,rb]}));}}),gb=t.createComponent({render:function(){var lb=this.props.comment,mb=this.props.viewas,nb=lb.likecount||0,ob=lb.replycount||0,pb=this.props.onToggleReplies,qb=this.props.showReplies,rb,sb;if(nb>0){var tb=cb(lb,mb),ub=r.constructDialogURI(s.LIKES,{id:lb.fbid}).toString(),vb=r.constructPageURI(s.LIKES,{id:lb.fbid}).toString();rb=g.a({classSet:{UFICommentBlingItem:true},role:"button",rel:"dialog",'data-hover':"tooltip",'data-tooltip-alignh':"center",'data-tooltip-uri':tb.toString(),ajaxify:ub,href:vb,children:[g.i({classSet:sa}),g.span({content:nb})]});}if(ob>0){var wb=qb?"Hide Replies":"Show Replies";sb=g.a({classSet:{UFICommentBlingItem:true},'aria-label':wb,'data-hover':"tooltip",'data-tooltip-alignh':"center",onClick:pb,href:"#",role:"button",children:[g.i({classSet:ua}),g.span({content:ob})]});}return (g.div({classSet:va,children:[rb,sb]}));}}),hb=t.createComponent({render:function(){var lb=this.props,mb=lb.comment,nb=lb.feedback,ob=lb.markedAsSpamHere,pb=mb.status===ca.SPAM_DISPLAY,qb=this.props.showReplyLink,rb=this.props.isReply,sb,tb,ub,vb,wb,xb,yb,zb=!mb.islocal&&mb.status!==ca.LIVE_DELETED;if(zb){if(pb&&!ob){if(lb.viewerCanMarkNotSpam)sb=g.a({onClick:lb.onMarkAsNotSpam,classSet:ka,content:"Not Spam",href:"#",role:"button"});}else{if(nb.viewercanlike){var ac=da.getTrackingInfo(mb.hasviewerliked?da.types.UNLIKE_LINK:da.types.LIKE_LINK),bc=mb.hasviewerliked?"Unlike this comment":"Like this comment";tb=g.a({href:"#",role:"button",onClick:lb.onCommentLikeToggle,'data-ft':ac,title:bc,content:mb.hasviewerliked?"Unlike":"Like"});}if(nb.isthreaded&&nb.cancomment&&qb)xb=aa({comment:mb,onClick:lb.onCommentReply,contextArgs:lb.contextArgs});if(nb.isthreaded&&!rb&&(mb.likecount>0||mb.replycount>0)){vb=gb({comment:mb,onToggleReplies:this.props.onBlingBoxClick,showReplies:this.props.showReplies});}else if(mb.likecount>0)ub=fb({comment:mb,viewas:this.props.viewas,contextArgs:this.props.contextArgs});if(mb.spamcount&&ba.enabled)wb=ba({count:mb.spamcount});}if(mb.attachment&&mb.canremove)yb=g.a({onClick:lb.onPreviewRemove,content:"Remove Preview",href:"#",role:"button"});}var cc=ib({comment:mb,onRetrySubmit:lb.onRetrySubmit,showPermalink:lb.showPermalink}),dc;if(lb.contextArgs.entstream){dc=[cc,tb,ub,xb,vb,wb,sb,yb];}else if(nb.isthreaded){dc=[tb,xb,sb,yb,ub,wb,vb,cc];}else dc=[cc,tb,ub,wb,xb,sb,yb];var ec=[];for(var fc=0;fc<dc.length;fc++)if(dc[fc]){ec.push(ha);ec.push(dc[fc]);}ec.shift();return (g.div({classSet:ma,children:ec}));}}),ib=t.createComponent({render:function(){var lb=this.props.comment,mb=this.props.onRetrySubmit,nb,ob;if(db(lb)){nb=[g.span({classSet:na,children:[g.i({classSet:oa}),"Unable to post comment."]}),lb.allowRetry&&mb?[' ',g.a({onClick:mb,href:"#",role:"button",children:"Try Again"})]:null];}else{var pb=this.props.showPermalink?lb.permalink:null,qb=da.getTrackingInfo(da.types.SOURCE),rb=g.a({classSet:wa,href:pb,'data-ft':qb,children:v({time:lb.timestamp.time,text:lb.timestamp.text,verbose:lb.timestamp.verbose})}),sb;switch(lb.source){case y.UFISourceType.MOBILE:sb=g.a({classSet:wa,href:new ea('/mobile/').setSubdomain('www').toString(),content:"mobile"});break;case y.UFISourceType.SMS:sb=g.a({classSet:wa,href:new ea('/mobile/?v=texts').setSubdomain('www').toString(),content:"text message"});break;case y.UFISourceType.EMAIL:sb=q({subtle:true,label:"email",inputType:"submit",name:"email_explain",value:true,classSet:xa});break;}ob=sb?fa._("{time} via {source}",{time:rb,source:sb}):rb;}var tb=null;if(lb.timestamp.original){var ub=new ea('/ajax/edits/browser/comment').addQueryData({comment_token:lb.id}).toString();tb=[ha,g.a({ref:"EditLink",href:"#",role:"button",rel:"dialog",className:"uiLinkSubtle",ajaxify:ub,'data-hover':"tooltip",title:"Show edit history",content:"Edited"})];}return (g.span({children:[ob,nb,tb]}));},propTrigger:function(lb){var mb=this.props.comment,nb=lb.comment;if(!mb.editnux&&!!nb.editnux)i.loadModules(['ContextualDialogX'],function(ob){var pb=new ob();pb.init(nb.editnux).setContext(this.refs.EditLink.getDOMNode()).setWidth(300).setPosition('below').show();}.bind(this));}}),jb=t.createComponent({render:function(){var lb=this.props.topMutualFriend,mb=this.props.otherMutualCount,nb=this.props.commentAuthor,ob=m.constructEndpoint(lb).toString(),pb=g.a({href:lb.uri,content:lb.name,'data-hovercard':ob}),qb=nb.name.length+lb.name.length,rb;if(mb===0){rb=fa._("Friends with {name}",{name:pb});}else if(qb<ab){var sb;if(mb==1){sb="1 other";}else sb=fa._("{count} others",{count:mb});rb=fa._("Friends with {name} and {others}",{name:pb,others:this.getOthersLink(sb,nb,lb)});}else{var tb=fa._("{count} mutual friends",{count:mb+1});rb=this.getOthersLink(tb,nb);}return (g.span({classSet:{UFICommentSocialContext:true},children:[ha,rb]}));},getOthersLink:function(lb,mb,nb){var ob=s.MUTUAL_FRIENDS,pb={uid:mb.id},qb=new ea('/ajax/mutual_friends/tooltip.php').setQueryData({friend_id:mb.id});if(nb)qb.addQueryData({exclude_id:nb.id});var rb=r.constructDialogURI(ob,pb).toString();return (g.a({rel:"dialog",'data-hover':"tooltip",'data-tooltip-alignh':"center",'data-tooltip-uri':qb.toString(),ajaxify:rb,href:r.constructPageURI(ob,pb).toString(),children:lb}));}}),kb=t.createComponent({getInitialState:function(){return {isHighlighting:this.props.comment.highlightcomment,wasHighlighted:this.props.comment.highlightcomment,markedAsSpamHere:false,oneClickRemovedHere:false,isInlinePageDeleted:false,isInlineBanned:false};},_onHideAsSpam:function(event){this.props.onHideAsSpam(event);this.updateState({markedAsSpamHere:true});},_onMarkAsNotSpam:function(event){this.props.onMarkAsNotSpam(event);this.updateState({markedAsSpamHere:false});},_onDeleteSpam:function(event){this.props.onOneClickRemove(event);this.updateState({isInlinePageDeleted:true});},_onUndoDeleteSpam:function(event){this.props.onUndoOneClickRemove(event);this.updateState({isInlinePageDeleted:false});},_onInlineBan:function(event){this.props.onInlineBan(event);this.updateState({isInlineBanned:true});},_onUndoInlineBan:function(event){this.props.onUndoInlineBan(event);this.updateState({isInlineBanned:false});},_onOneClickRemove:function(event){this.props.onOneClickRemove(event);this.updateState({oneClickRemovedHere:true});},_onUndoOneClickRemove:function(event){this.props.onUndoOneClickRemove(event);this.updateState({oneClickRemovedHere:false});},_onAction:function(event,lb){if(lb===la.remove){this.props.onRemove(event);}else if(lb===la.edit){this.props.onEdit(event);}else if(lb===la.hide)this._onHideAsSpam(event);},_createRemoveReportMenu:function(event){if(this._removeReportMenu)return;var lb=[{label:"Delete Comment...",value:la.remove},{label:"Hide Comment",value:la.hide}],mb=h.persistentCloneOf(event),nb=mb.target;i.loadModules(['UFILegacyUtils'],function(ob){this._removeReportMenu=ob.createCommentMenu(nb,lb,this._onAction.bind(this,mb));}.bind(this));},_createEditDeleteMenu:function(event){var lb=h.persistentCloneOf(event);if(this._editDeleteMenu)return;var mb=[{label:"Edit...",value:la.edit},{label:"Delete...",value:la.remove}];i.loadModules(['UFILegacyUtils'],function(nb){this._editDeleteMenu=nb.createCommentMenu(lb.target,mb,this._onAction.bind(this,lb));}.bind(this));},_renderCloseButton:function(){var lb=this.props.comment,mb=this.props.feedback,nb=null,ob=null,pb=false;if(lb.canremove&&!this.props.hideAsSpamForPageAdmin){if(this.props.viewerIsAuthor){if(lb.canedit){ob="Edit or Delete";nb=this._createEditDeleteMenu.bind(this);pb=true;}else{ob="Remove";nb=this.props.onRemove;}}else if(mb.canremoveall)if(this.props.showRemoveReportMenu){ob="Remove or Report";nb=this._createRemoveReportMenu.bind(this);}else{ob="Remove";nb=this._onOneClickRemove.bind(this);}}else if(lb.canreport){ob="Hide as Spam";nb=this._onHideAsSpam.bind(this);}var qb={UFICommentCloseButton:true,UFIEditButton:pb,hdn:nb===null};return (j({onClick:nb,tooltip:ob,classSet:qb}));},onDomReady:function(lb){var mb=this.props.comment.ufiinstanceid,nb=z.getKeyForInstance(mb,'scrolloninsert');if(this.state.isHighlighting||nb){i.loadModules(['UFIScrollHighlight'],function(pb){pb.actOn.curry(lb).defer();});this.updateState({isHighlighting:false});}var ob=z.getKeyForInstance(mb,'autofocus');if(ob){l.setWithoutOutline(this.refs.AuthorName.getDOMNode());z.updateState(mb,'autofocus',false);}},needsRedraw:function(lb){return (lb.comment!==this.props.comment||lb.showReplyLink!==this.props.showReplyLink||lb.showReplies!==this.props.showReplies);},render:function(){var lb=this.props.comment,mb=this.props.feedback,nb=lb.status===ca.DELETED,ob=lb.status===ca.LIVE_DELETED,pb=lb.status===ca.SPAM_DISPLAY,qb=lb.status===ca.PENDING_UNDO_DELETE,rb=this.state.markedAsSpamHere,sb=this.state.oneClickRemovedHere,tb=this.state.isInlinePageDeleted,ub=this.props.hideAsSpamForPageAdmin,vb=this.state.isInlineBanned,wb=this.props.isReply,xb=eb(lb),yb=!lb.status&&(lb.isunseen||lb.islocal);if(!lb.status&&mb.lastseentime){var zb=lb.timestamp.original||lb.timestamp.time;yb=yb||zb>mb.lastseentime;}var ac=this.props.contextArgs.markedcomment;if(ac&&ac==lb.legacyid)yb=true;var bc=null;if(xb)if(bb){var cc,dc=null;if(ub){bc=vb?this._onUndoInlineBan.bind(this):this._onInlineBan.bind(this);if(tb){dc=this._onUndoDeleteSpam.bind(this);var ec=g.a({href:"#",content:"Undo",onClick:dc});cc=fa._("You've deleted this comment so no one can see it. {undo}.",{undo:ec});}else if(rb)cc=this.getPageAdminNotice();}else if(rb){cc="This comment has been hidden as spam.";dc=this._onMarkAsNotSpam.bind(this);}else if(sb){cc="This comment has been removed.";dc=this._onUndoOneClickRemove.bind(this);}if(cc)return (g.li({classSet:x.ROW,children:bb({notice:cc,comment:this.props.comment,authorProfiles:this.props.authorProfiles,onUndo:dc,onBanAction:bc,isInlineBanned:vb,hideAsSpamForPageAdmin:ub})}));}else i.loadModules(['UFICommentRemovalControls'],function(gc){bb=gc;this.updateState.bind(this,{}).defer();}.bind(this));var fc=[x.ROW,{UFIComment:true,UFICommentFailed:db(lb),UFITranslucentComment:nb||ob||pb||qb,highlightComment:this.state.isHighlighting,noDisplay:nb&&!sb,UFICommentReply:wb,UFILastComment:this.props.isLast}];if(yb)fc.push(x.UNSEEN_ITEM);return (g.li({classSet:fc,'data-ft':this.props['data-ft'],children:this.renderComment()}));},getPageAdminNotice:function(){var lb=g.a({href:"#",role:"button",content:"Undo this",onClick:this._onMarkAsNotSpam.bind(this)}),mb=g.a({href:"#",role:"button",content:"delete this comment",onClick:this._onDeleteSpam.bind(this)}),nb=fa._("You've hidden this comment so only the person who wrote it and their friends can see it. {undoThis} or {deleteThisComment}.",{undoThis:lb,deleteThisComment:mb});return nb;},renderComment:function(){var lb=this.props,mb=lb.comment,nb=lb.feedback,ob=lb.authorProfiles[mb.author],pb=mb.status===ca.SPAM_DISPLAY,qb=mb.status===ca.LIVE_DELETED,rb=!(pb||qb),sb=nb.canremoveall||mb.hiddenbyviewer,tb=null,ub=null;if(!lb.isLocallyComposed&&!this.state.wasHighlighted&&!mb.fromfetch){ub=y.commentTruncationLength;tb=y.commentTruncationMaxLines;}var vb;if(mb.attachment)vb=g.div({isStatic:true,dangerouslySetInnerHtml:mb.attachment.markup});var wb=da.getTrackingInfo(da.types.SMALL_ACTOR_PHOTO),xb=da.getTrackingInfo(da.types.USER_NAME),yb=da.getTrackingInfo(da.types.USER_MESSAGE),zb={'right-aligned-text':mb.body.isrtl&&!k.rtl,'left-aligned-text':!mb.body.isrtl&&k.rtl,UFICommentContent:true},ac,bc=!mb.body.isrtl,cc=!k.rtl;if(bc!==cc)ac=bc?'ltr':'rtl';var dc=null,ec=null;if(mb.istranslatable&&(mb.translatedtext===undefined))dc=g.a({href:"#",role:"button",title:"Translate this comment",classSet:pa,onClick:lb.onCommentTranslate,content:"See Translation"});if(mb.translatedtext){var fc=new ea('http://bing.com/translator').addQueryData({text:mb.body.text});ec=g.span({classSet:qa,children:[mb.translatedtext,g.span({classSet:ya,children:["(",g.a({href:fc.toString(),classSet:za,content:"Translated by Bing"}),")"]})]});}var gc=m.constructEndpoint(ob).toString(),hc=g.a({ref:"AuthorName",classSet:ja,href:ob.uri,content:ob.name,'data-hovercard':gc,'data-ft':xb}),ic=function(nc,oc){return n(nc,oc,'_blank');},jc=w({classSet:ia,interpolator:ic,ranges:mb.body.ranges,text:mb.body.text,truncationPercent:y.commentTruncationPercent,maxLength:ub,maxLines:tb,renderEmoticons:ga.renderEmoticons,renderEmoji:ga.renderEmoji,'data-ft':yb,dir:mb.body.dir}),kc;if(mb.socialcontext){var lc=mb.socialcontext,mc=jb({topMutualFriend:lb.authorProfiles[lc.topmutualid],otherMutualCount:lc.othermutualcount,commentAuthor:ob});kc=[hc,mc,g.div({children:jc})];}else kc=[hc,' ',jc];return (o({spacing:p.spacing.medium,imageClassSet:{UFIImageBlockImage:true},contentClassSet:{UFIImageBlockContent:true},children:[g.a({href:ob.uri,'data-hovercard':gc,'data-ft':wb,children:g.img({src:ob.thumbSrc,classSet:x.ACTOR_IMAGE,alt:""})}),g.div({children:[g.div({classSet:zb,dir:ac,children:[kc,dc,ec,vb]}),hb({comment:mb,feedback:nb,onBlingBoxClick:lb.onBlingBoxClick,onCommentLikeToggle:lb.onCommentLikeToggle,onCommentReply:lb.onCommentReply,onPreviewRemove:lb.onPreviewRemove,onRetrySubmit:lb.onRetrySubmit,onMarkAsNotSpam:this._onMarkAsNotSpam.bind(this),viewerCanMarkNotSpam:sb,viewas:lb.contextArgs.viewas,isReply:lb.isReply,showPermalink:lb.showPermalink,showReplyLink:lb.showReplyLink,showReplies:lb.showReplies,contextArgs:lb.contextArgs,markedAsSpamHere:this.state.markedAsSpamHere})]}),rb?this._renderCloseButton():null]}));}});e.exports=kb;});
__d("UFIContainer",["ReactDOM","React","UFITrackingNodes"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('React'),i=b('UFITrackingNodes'),j=h.createComponent({render:function(){var k=null;if(this.props.hasNub)k=g.li({classSet:{UFIArrow:true},children:g.i({})});return (g.ul({classSet:{UFIList:true},'data-ft':i.getTrackingInfo(i.types.UFI),children:[k,this.props.children]}));}});e.exports=j;});
__d("UFILikeSentenceText",["ReactDOM","HovercardLinkInterpolator","ProfileBrowserLink","ProfileBrowserTypes","React","ReactTextWithEntities","URI"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('HovercardLinkInterpolator'),i=b('ProfileBrowserLink'),j=b('ProfileBrowserTypes'),k=b('React'),l=b('ReactTextWithEntities'),m=b('URI');function n(p,q,r,s){if(s.count!=null){var t=j.LIKES,u={id:p.targetfbid},v=[];for(var w=0;w<q.length;w++)if(!q[w].count)v.push(q[w].entities[0].id);var x=new m('/ajax/like/tooltip.php').setQueryData({comment_fbid:p.targetfbid,comment_from:p.actorforpost,seen_user_fbids:v.length?v:true});return (g.a({rel:"dialog",ajaxify:i.constructDialogURI(t,u).toString(),href:i.constructPageURI(t,u).toString(),'data-hover':"tooltip",'data-tooltip-alignh':"center",'data-tooltip-uri':x.toString(),children:r}));}else return h(r,s);}var o=k.createComponent({render:function(){var p=this.props.feedback,q=this.props.likeSentenceData,r=n.bind(null,p,q.ranges);return (l({interpolator:r,ranges:q.ranges,aggregatedRanges:q.aggregatedranges,text:q.text}));}});e.exports=o;});
__d("UFILikeSentence",["ReactDOM","ImageBlock","LeftRight","ProfileBrowserLink","ProfileBrowserTypes","React","UFIClassSets","UFILikeSentenceText","URI","cx","tx"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('ImageBlock'),i=b('LeftRight'),j=b('ProfileBrowserLink'),k=b('ProfileBrowserTypes'),l=b('React'),m=b('UFIClassSets'),n=b('UFILikeSentenceText'),o=b('URI'),p=b('cx'),q=b('tx'),r=l.createComponent({render:function(){var s=this.props.feedback,t=s.likesentences.current,u=this.props.contextArgs.entstream,v=[m.ROW,{UFILikeSentence:true}];if(s.likesentences.isunseen)v.push(m.UNSEEN_ITEM);var w=null,x=null;if(t.text)x=n({feedback:s,likeSentenceData:t});if(x&&!u){w=g.i({classSet:{UFILikeIcon:true}});if(s.viewercanlike&&!s.hasviewerliked)w=g.a({classSet:{UFILikeThumb:true},href:"#",tabIndex:"-1",title:"Like this item",onClick:this.props.onTargetLikeToggle,children:w});}var y=null;if(s.seencount>0&&!u){var z=k.GROUP_MESSAGE_VIEWERS,aa={id:s.targetfbid},ba=j.constructDialogURI(z,aa),ca=j.constructPageURI(z,aa),da=new o('/ajax/ufi/seen_tooltip.php').setQueryData({ft_ent_identifier:s.entidentifier,displayed_count:s.seencount}),ea=s.seenbyall?"Seen by everyone":q._("Seen by {count}",{count:s.seencount});y=g.a({rel:"dialog",ajaxify:ba.toString(),href:ca.toString(),tabindex:"-1",'data-hover':"tooltip",'data-tooltip-alignh':"left",'data-tooltip-uri':da.toString(),classSet:{UFISeenCount:true,UFISeenCountRight:!!t.text},children:[g.span({classSet:{UFISeenCountIcon:true}}),ea]});}var fa=null;if(w&&x){fa=h({imageClassSet:{UFIImageBlockImage:true},contentClassSet:{UFIImageBlockContent:true},children:[w,x,y]});}else if(x&&u){fa=i({children:[x,y]});}else fa=y;return (g.li({classSet:v,children:fa}));}});e.exports=r;});
__d("UFIPager",["ReactDOM","ImageBlock","React","UFIClassSets"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('ImageBlock'),i=b('React'),j=b('UFIClassSets'),k=i.createComponent({onPagerClick:function(l){!this.props.isLoading&&this.props.onPagerClick&&this.props.onPagerClick();l.nativeEvent.prevent();},render:function(){var l=this.onPagerClick.bind(this),m={ufiPagerLoading:this.props.isLoading},n=[j.ROW,{UFICommentReply:this.props.isReply,UFIPagerRow:true}];if(this.props.isUnseen)n.push(j.UNSEEN_ITEM);return (g.li({classSet:n,'data-ft':this.props['data-ft'],children:h({imageClassSet:{UFIImageBlockImage:true},contentClassSet:{UFIImageBlockContent:true},children:[g.a({classSet:{UFIPagerIcon:true},onClick:l,href:"#",role:"button"}),g.a({classSet:{UFIPagerLink:true},onClick:l,href:"#",role:"button",children:g.span({classSet:m,children:this.props.pagerLabel})}),g.span({className:"fcg",children:this.props.countSentence})]})}));}});e.exports=k;});
__d("UFIReplyRow",["ReactDOM","React","tx"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('React'),i=b('tx'),j={UFIRow:true,UFIComment:true,UFICommentReply:true,UFIReplyRow:true},k={UFIReplyLink:true},l=h.createComponent({render:function(){return (g.li({classSet:j,children:g.span({classSet:k,children:g.a({href:"#",onClick:this.props.onClick,children:"Write a reply..."})})}));}});e.exports=l;});
__d("UFIShareRow",["ReactDOM","ImageBlock","NumberFormat","React","UFIClassSets","URI","tx"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('ImageBlock'),i=b('NumberFormat'),j=b('React'),k=b('UFIClassSets'),l=b('URI'),m=b('tx'),n=j.createComponent({render:function(){var o=new l('/ajax/shares/view').setQueryData({target_fbid:this.props.targetID}),p=new l('/shares/view').setSubdomain('www').setQueryData({id:this.props.targetID}),q;if(this.props.shareCount>1){var r=i.formatIntegerWithDelimiter(this.props.shareCount,this.props.contextArgs.numberdelimiter||',');q=m._("{count} shares",{count:r});}else q="1 share";return (g.li({classSet:k.ROW,children:h({imageClassSet:{UFIImageBlockImage:true},contentClassSet:{UFIImageBlockContent:true},children:[g.a({className:"UFIShareIcon",rel:"dialog",ajaxify:o.toString(),href:p.toString()}),g.a({className:"UFIShareLink",rel:"dialog",ajaxify:o.toString(),href:p.toString(),children:q})]})}));}});e.exports=n;});
__d("UFISpamPlaceholder",["ReactDOM","React","UFIClassSets","tx"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('React'),i=b('UFIClassSets'),j=b('tx'),k=h.createComponent({render:function(){var l={UFISpamCommentWrapper:true,UFISpamCommentLoading:this.props.isLoading};return (g.li({classSet:i.ROW,children:g.a({href:"#",role:"button",classSet:{UFISpamCommentLink:true},onClick:this.props.onClick,children:g.span({'data-hover':"tooltip",'data-tooltip-alignh':"center",'aria-label':j._("{count} hidden",{count:this.props.numHidden}),classSet:l,children:g.i({classSet:{placeholderIcon:true}})})})}));}});e.exports=k;});
__d("UFI",["ReactDOM","NumberFormat","React","ReactLegacyScrollableArea","UFIAddCommentController","UFIComment","UFIConstants","UFIContainer","UFIInstanceState","UFILikeSentence","UFIPager","UFIReplyRow","UFIShareRow","UFISpamPlaceholder","UFITrackingNodes","isEmpty","tx","copyProperties"],function(a,b,c,d,e,f){var g=b('ReactDOM'),h=b('NumberFormat'),i=b('React'),j=b('ReactLegacyScrollableArea'),k=b('UFIAddCommentController'),l=b('UFIComment'),m=b('UFIConstants'),n=b('UFIContainer'),o=b('UFIInstanceState'),p=b('UFILikeSentence'),q=b('UFIPager'),r=b('UFIReplyRow'),s=b('UFIShareRow'),t=b('UFISpamPlaceholder'),u=b('UFITrackingNodes'),v=b('isEmpty'),w=b('tx'),x=b('copyProperties'),y=i.createComponent({getInitialState:function(){return {requestRanges:x({},this.props.availableRanges),showRepliesMap:x({},this.props.showRepliesMap),replyComposerCommentID:null,loadingSpamIDs:{},isActiveLoading:false};},propTrigger:function(z){if(this.state.isActiveLoading){var aa=this.props.availableRanges[this.props.id],ba=z.availableRanges[this.props.id];if(aa.offset!=ba.offset||aa.length!=ba.length){var ca=(ba.offset<aa.offset)?0:aa.length;if(ca<z.availableComments.length){var da=z.availableComments[ca].ufiinstanceid;o.updateState(da,'autofocus',true);}}return {isActiveLoading:false};}},render:function(){var z=this.props,aa=z.feedback,ba=z.contextArgs,ca=z.source!=m.UFIFeedbackSourceType.ADS,da=(!v(aa.likesentences.current)||(aa.seencount>0&&!ba.entstream))&&ca,ea=null;if(da)ea=p({contextArgs:ba,feedback:aa,onTargetLikeToggle:z.onTargetLikeToggle});var fa=z.availableComments&&z.availableComments.length&&ca,ga=null;if(fa)ga=this.renderCommentMap(z.availableComments,z.availableRanges[z.id].offset);var ha=null,ia=aa.cancomment;if(ia&&ba.showaddcomment&&aa.actorforpost){var ja=new k(null,z.id,null,ba),ka=z.authorProfiles[aa.actorforpost];ha=ja.renderAddComment(ka,aa.mentionsdatasource,aa.showsendonentertip);}var la=null,ma=ba.showshares&&aa.sharecount&&ca;if(ma&&!ba.entstream)la=s({targetID:aa.targetfbid,shareCount:aa.sharecount,contextArgs:ba});var na=this.renderPagers(),oa=da||ma||fa||ia,pa=[na.topPager,ga,na.bottomPager];if(ba.scrollcomments&&ba.scrollwidth)pa=g.li({children:j({width:ba.scrollwidth,children:[g.ul({children:pa})]})});return (n({hasNub:ba.shownub&&oa,children:[ea,la,pa,ha]}));},renderCommentMap:function(z,aa){var ba={},ca=z.length>0&&z[0].parentcommentid,da=[],ea=function(){if(da.length>0){var sa=function(ta,ua){this.state.loadingSpamIDs[ta[0]]=true;this.updateState({});this.props.onSpamFetch(ta,ua);}.bind(this,da,ca);ba['spam'+da[0]]=t({onClick:sa,numHidden:da.length,isLoading:!!this.state.loadingSpamIDs[da[0]]});da=[];}}.bind(this),fa=this.props.instanceid,ga=o.getKeyForInstance(fa,'editcommentid'),ha=this.state.replyComposerCommentID,ia=z.length&&!!z[0].parentcommentid,ja=z.length;for(var ka=0;ka<ja;ka++)if(z[ka].status==m.UFIStatus.SPAM){da.push(z[ka].id);}else{ea();var la=Math.max(this.props.loggingOffset-ka-aa,0),ma=z[ka],na=null;if(ha===ma.id){na=this.renderReplyComposer(ma);}else if(this.props.feedback.cancomment)na=r({onClick:this.onCommentReply.bind(this,ma)});var oa=null;if(this.props.repliesMap&&this.props.repliesMap[z[ka].id]&&this.state.showRepliesMap[z[ka].id]){var pa=this.renderPagers(z[ka].id),qa=this.renderCommentMap(this.props.repliesMap[z[ka].id],this.props.availableRanges[z[ka].id].offset);oa=g.ul({classSet:{UFIReplyList:true},children:[pa.topPager,qa,pa.bottomPager,na]});}var ra;if(ma.id==ga){ra=this.renderEditCommentBox(ma);}else{ra=this.renderComment(ma,la,ka===ja-1);if(!ia)ra.props.showReplyLink=true;}ba['comment'+z[ka].id]=ra;ba['replies'+z[ka].id]=oa;}ea();return ba;},renderReplyComposer:function(z){var aa=this.props;return (new k(null,aa.id,z.id,aa.contextArgs)).renderAddComment(aa.authorProfiles[aa.feedback.actorforpost],aa.feedback.mentionsdatasource,false,'replycomposer',true);},renderEditCommentBox:function(z){var aa=new k(null,this.props.id,null,{}),ba=aa.renderEditComment(this.props.authorProfiles[this.props.feedback.actorforpost],z.id,this.props.feedback.mentionsdatasource,this.props.onEditAttempt.bind(null,z),this.props.onCancelEdit);return ba;},renderComment:function(z,aa,ba){var ca=this.props,da=ca.feedback,ea=da.actorforpost===z.author,fa=o.getKeyForInstance(this.props.instanceid,'locallycomposed'),ga=z.islocal||fa&&fa[z.id],ha=da.showremovemenu||(da.viewerid===z.author),ia=da.canremoveall&&da.isownerpage&&!ea,ja=ca.source!=m.UFIFeedbackSourceType.INTERN,ka=u.getTrackingInfo(u.types.COMMENT,aa),la=!!z.parentcommentid,ma=this.state.showRepliesMap[z.id]||false;return (l({comment:z,isLast:ba,authorProfiles:this.props.authorProfiles,viewerIsAuthor:ea,feedback:da,'data-ft':ka,contextArgs:this.props.contextArgs,hideAsSpamForPageAdmin:ia,isLocallyComposed:ga,isReply:la,showPermalink:ja,showRemoveReportMenu:ha,showReplies:ma,onBlingBoxClick:this.onToggleBlingBox.bind(this,z),onCommentLikeToggle:ca.onCommentLikeToggle.bind(null,z),onCommentReply:this.onCommentReply.bind(this,z),onCommentTranslate:ca.onCommentTranslate.bind(null,z),onEdit:ca.onCommentEdit.bind(null,z),onHideAsSpam:ca.onCommentHideAsSpam.bind(null,z),onInlineBan:ca.onCommentInlineBan.bind(null,z),onMarkAsNotSpam:ca.onCommentMarkAsNotSpam.bind(null,z),onOneClickRemove:ca.onCommentOneClickRemove.bind(null,z),onPreviewRemove:ca.onPreviewRemove.bind(null,z),onRemove:ca.onCommentRemove.bind(null,z),onRetrySubmit:ca.onRetrySubmit.bind(null,z),onUndoInlineBan:ca.onCommentUndoInlineBan.bind(null,z),onUndoOneClickRemove:ca.onCommentUndoOneClickRemove.bind(null,z)}));},_setShowRepliesMapState:function(z,aa,ba){var ca=this.state.showRepliesMap;ca[z]=aa;this.updateState({showRepliesMap:ca,replyComposerCommentID:ba?z:this.state.replyComposerCommentID});},onToggleBlingBox:function(z){var aa=!this.state.showRepliesMap[z.id];this._setShowRepliesMapState(z.id,aa);var ba=this.props.availableRanges[z.id].length-this.props.deletedCounts[z.id];if(aa&&ba===0){var ca=this.props.commentCounts[z.id],da=Math.min(ca,this.props.pageSize);this.onPage(z.id,{offset:ca-da,length:da});}},onPage:function(z,aa){var ba=this.state.requestRanges;ba[z]=aa;this.updateState({requestRanges:ba,isActiveLoading:true});this.props.onChangeRange(z,aa);},renderPagers:function(z){var aa=this.props;z=z||aa.id;if(!this.state.requestRanges[z])this.state.requestRanges[z]=aa.availableRanges[z];var ba=this.state.requestRanges[z].offset,ca=this.state.requestRanges[z].length,da=aa.availableRanges[z].offset,ea=aa.availableRanges[z].length,fa=aa.deletedCounts[z],ga=aa.commentCounts[z],ha=ga-fa,ia=ea-fa,ja=aa.contextArgs.numberdelimiter||',',ka=z!==aa.id,la={topPager:null,bottomPager:null};if(aa.source==m.UFIFeedbackSourceType.ADS)return la;var ma=ba<da,na=ba+ca>da+ea;if(ea==ga)return la;var oa=(da+ea)==ga;if((ga<aa.pageSize&&oa)||ia===0){var pa=Math.min(ga,aa.pageSize),qa=this.onPage.bind(this,z,{offset:ga-pa,length:pa}),ra;if(ha==1){ra=ka?"View 1 reply":"View 1 comment";}else{var sa=h.formatIntegerWithDelimiter(ha,ja);ra=ka?w._("View all {count} replies",{count:sa}):w._("View all {count} comments",{count:sa});}var ta=u.getTrackingInfo(u.types.VIEW_ALL_COMMENTS),ua=q({isUnseen:aa.feedback.hasunseencollapsed,isLoading:ma,isReply:ka,pagerLabel:ra,onPagerClick:qa,'data-ft':ta});if(aa.feedback.isranked&&!ka){la.bottomPager=ua;}else la.topPager=ua;return la;}if(da>0){var va=Math.max(da-aa.pageSize,0),pa=da+ea-va,wa=this.onPage.bind(this,z,{offset:va,length:pa}),xa=h.formatIntegerWithDelimiter(ia,ja),ya=h.formatIntegerWithDelimiter(ha,ja),za=w._("{countshown} of {totalcount}",{countshown:xa,totalcount:ya});if(aa.feedback.isranked&&!ka){la.bottomPager=q({isLoading:ma,isReply:ka,pagerLabel:"View more comments",onPagerClick:wa,countSentence:za});}else{var ab=ka?"View previous replies":"View previous comments";la.topPager=q({isLoading:ma,isReply:ka,pagerLabel:ab,onPagerClick:wa,countSentence:za});}}if(da+ea<ga){var bb=Math.min(ea+aa.pageSize,ga-da),cb=this.onPage.bind(this,z,{offset:da,length:bb});if(aa.feedback.isranked&&!ka){la.topPager=q({isLoading:na,isReply:ka,pagerLabel:"View previous comments",onPagerClick:cb});}else{var db=ka?"View more replies":"View more comments";la.bottomPager=q({isLoading:na,isReply:ka,pagerLabel:db,onPagerClick:cb});}}return la;},onCommentReply:function(z){var aa=z.parentcommentid||z.id,ba=this.state.replyComposerCommentID;if(aa!==ba){this._setShowRepliesMapState(aa,true,true);}else if(!this.state.showRepliesMap[aa]){this._setShowRepliesMapState(aa,true);}else if(this.refs&&this.refs.replycomposer)this.refs.replycomposer.focus();}});e.exports=y;});
__d("UFIController",["ReactDOM","Arbiter","Bootloader","CSS","DOM","DOMQuery","ImmutableObject","LayerRemoveOnHide","LiveTimer","Parent","React","ReactMount","ShortProfiles","UFI","UFIActionLinkController","UFICentralUpdates","UFIComments","UFIConstants","UFIFeedbackTargets","UFIInstanceState","UFIUserActions","copyProperties","isEmpty","tx","UFICommentTemplates"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Bootloader'),i=b('CSS'),j=b('DOM'),k=b('DOMQuery'),l=b('ImmutableObject'),m=b('LayerRemoveOnHide'),n=b('LiveTimer'),o=b('Parent'),p=b('React'),q=b('ReactMount'),r=b('ShortProfiles'),s=b('UFI'),t=b('UFIActionLinkController'),u=b('UFICentralUpdates'),v=b('UFIComments'),w=b('UFIConstants'),x=b('UFIFeedbackTargets'),y=b('UFIInstanceState'),z=b('UFIUserActions'),aa=b('copyProperties'),ba=b('isEmpty'),ca=b('tx'),da=b('UFICommentTemplates'),ea=function(ha,ia,ja,ka){var la=ha.offset+ha.length===ia;return {offset:ha.offset,length:(la&&fa(ka))?ja-ha.offset:ha.length};},fa=function(ha){return ha==w.UFIPayloadSourceType.USER_ACTION||ha==w.UFIPayloadSourceType.LIVE_SEND;};function ga(ha,ia,ja){this.root=ha;this.id=ia.ftentidentifier;this.source=ia.source;this._ufiInstanceID=ia.instanceid;this._contextArgs=ia;this._verifiedCommentsExpanded=false;var ka=ja.feedbacktargets[0];this.actionLink=new t(ha,ia,ka);var la=ja.commentlists[this.id];this.commentcounts={};this.deletedcounts={};this.ranges={};this.repliesMap={};this.showRepliesMap={};this.commentcounts[this.id]=v.getCommentCount(this.id);this.deletedcounts[this.id]=0;this.ranges[this.id]=aa({},la.range);for(var ma=0;ma<la.values.length;ma++){var na=la.values[ma],oa=ja.commentlists[na];if(oa){this.commentcounts[na]=v.getCommentCount(na);this.deletedcounts[na]=0;this.ranges[na]=aa({},oa.range);}}this.ranges=new l(this.ranges);this._loggingOffset=null;this._ufi=null;this.ufiCentralUpdatesSubscriptions=[u.subscribe('feedback-updated',function(pa,qa){var ra=qa.updates;if(this.id in ra)this.fetchAndUpdate(this.render.bind(this),qa.payloadSource);}.bind(this)),u.subscribe('feedback-id-changed',function(pa,qa){var ra=qa.updates;if(this.id in ra)this.id=ra[this.id];}.bind(this)),u.subscribe('instance-updated',function(pa,qa){var ra=qa.updates;if(this._ufiInstanceID in ra){var sa=ra[this._ufiInstanceID];if(sa.editcommentid)this.render(qa.payloadSource);}}.bind(this)),u.subscribe('update-comment-lists',function(pa,qa){var ra=qa.commentlists;if(ra&&Object.keys(ra).length)for(var sa in ra)if(!this.ranges[sa])this.ranges=l.set(this.ranges,{ftEntIdentifier:ra[sa].range});}.bind(this))];this.clearPageletSubscription=g.subscribe('ajaxpipe/clear_pagelet',this.onPageletDestroy.bind(this));u.handleUpdate(w.UFIPayloadSourceType.INITIAL_SERVER,ja);h.loadModules(['ScrollAwareDOM'],function(pa){q.scrollMonitor=pa.monitor;});}aa(ga.prototype,{_getParentForm:function(){if(!this._form)this._form=o.byTag(this.root,'form');return this._form;},_onTargetLikeToggle:function(event){var ha=!this.feedback.hasviewerliked;z.changeLike(this.id,ha,{source:this.source,target:event.target});event.preventDefault();},_onCommentLikeToggle:function(ha,event){var ia=!ha.hasviewerliked;z.changeCommentLike(ha.id,ia,{source:this.source,target:event.target});},_onCommentEdit:function(ha){y.updateState(this._ufiInstanceID,'isediting',true);y.updateState(this._ufiInstanceID,'editcommentid',ha.id);},_onEditAttempt:function(ha,ia,event){if(!ia.visibleValue){this._onCommentRemove(ha);}else z.editComment(ha.id,ia.visibleValue,ia.encodedValue,{source:this._contextArgs.source,target:event.target});y.updateStateField(this._ufiInstanceID,'locallycomposed',ha.id,true);this._onEditReset();},_onEditReset:function(){y.updateState(this._ufiInstanceID,'isediting',false);y.updateState(this._ufiInstanceID,'editcommentid',null);},_onCommentRemove:function(ha,event){var ia=da[':fb:ufi:hide-dialog-template'].build();j.setContent(ia.getNode('body'),"Are you sure you want to delete this comment?");j.setContent(ia.getNode('title'),"Delete Comment");h.loadModules(['DialogX'],function(ja){var ka=new ja({modal:true,width:465,addedBehaviors:[m]},ia.getRoot());ka.subscribe('confirm',function(){z.removeComment(ha.id,{source:this.source,oneclick:false,target:event.target,timelinelogdata:this._contextArgs.timelinelogdata});ka.hide();}.bind(this));ka.show();}.bind(this));},_onCommentOneClickRemove:function(ha,event){z.removeComment(ha.id,{source:this.source,oneclick:true,target:event.target,timelinelogdata:this._contextArgs.timelinelogdata});},_onCommentUndoOneClickRemove:function(ha,event){var ia=this.feedback.canremoveall&&this.feedback.isownerpage&&this.feedback.actorforpost!==this.authorProfiles[ha.author];z.undoRemoveComment(ha.id,ia,{source:this.source,target:event.target});},_onCommentHideAsSpam:function(ha,event){z.setHideAsSpam(ha.id,true,{source:this.source,target:event.target});},_onCommentMarkAsNotSpam:function(ha,event){z.setHideAsSpam(ha.id,false,{source:this.source,target:event.target});},_onCommentTranslate:function(ha,event){z.translateComment(ha,{source:this.source,target:event.target});},_onCommentInlineBanChange:function(ha,ia,event){z.banUser(ha,this.feedback.ownerid,ia,{source:this.source,target:event.target});},_onCommentInlineBan:function(ha,event){this._onCommentInlineBanChange(ha,true,event);},_onCommentUndoInlineBan:function(ha,event){this._onCommentInlineBanChange(ha,false,event);},_fetchSpamComments:function(ha,ia){z.fetchSpamComments(this.id,ha,ia);},_removePreview:function(ha,event){z.removePreview(ha,{source:this.source,target:event.target});},_retrySubmit:function(ha){h.loadModules(['UFIRetryActions'],function(ia){ia.retrySubmit(ha,{source:this.source});}.bind(this));},_ensureCommentsExpanded:function(){if(this._verifiedCommentsExpanded)return;var ha=o.byTag(this.root,'form');if(ha){i.removeClass(ha,'collapsed_comments');this._verifiedCommentsExpanded=true;}},render:function(ha){var ia=this.comments.length||!ba(this.feedback.likesentences.current);if(ia&&fa(ha))this._ensureCommentsExpanded();if(this._loggingOffset===null)this._loggingOffset=this.ranges[this.id].offset+this.comments.length-1;var ja=s({feedback:this.feedback,id:this.id,onTargetLikeToggle:this._onTargetLikeToggle.bind(this),onCommentLikeToggle:this._onCommentLikeToggle.bind(this),onCommentRemove:this._onCommentRemove.bind(this),onCommentHideAsSpam:this._onCommentHideAsSpam.bind(this),onCommentMarkAsNotSpam:this._onCommentMarkAsNotSpam.bind(this),onCommentEdit:this._onCommentEdit.bind(this),onCommentOneClickRemove:this._onCommentOneClickRemove.bind(this),onCommentUndoOneClickRemove:this._onCommentUndoOneClickRemove.bind(this),onCommentTranslate:this._onCommentTranslate.bind(this),onCommentInlineBan:this._onCommentInlineBan.bind(this),onCommentUndoInlineBan:this._onCommentUndoInlineBan.bind(this),onEditAttempt:this._onEditAttempt.bind(this),onCancelEdit:this._onEditReset.bind(this),onChangeRange:this._changeRange.bind(this),onSpamFetch:this._fetchSpamComments.bind(this),onPreviewRemove:this._removePreview.bind(this),onRetrySubmit:this._retrySubmit.bind(this),contextArgs:this._contextArgs,repliesMap:this.repliesMap,showRepliesMap:this.showRepliesMap,commentCounts:this.commentcounts,deletedCounts:this.deletedcounts,availableComments:this.comments,source:this.source,availableRanges:this.ranges,pageSize:w.defaultPageSize,authorProfiles:this.authorProfiles,instanceid:this._ufiInstanceID,loggingOffset:this._loggingOffset});this._ufi=p.renderOrUpdateComponent(ja,this.root);n.updateTimeStamps();if(this._getParentForm())g.inform('ufi/changed',{form:this._getParentForm()});},fetchAndUpdate:function(ha,ia){x.getFeedbackTarget(this.id,function(ja){var ka=v.getCommentCount(this.id),la=ea(this.ranges[this.id],this.commentcounts[this.id],ka,ia);v.getCommentsInRange(this.id,la,function(ma){var na=[],oa={},pa={};if(ja.actorforpost)na.push(ja.actorforpost);for(var qa=0;qa<ma.length;qa++){if(ma[qa].author)na.push(ma[qa].author);if(ma[qa].socialcontext)na.push(ma[qa].socialcontext.topmutualid);if(ja.isthreaded){var ra=ma[qa].id,sa=v.getCommentCount(ra),ta;if(this.ranges[ra]){ta=ea(this.ranges[ra],this.commentcounts[ra],sa,ia);}else ta={offset:0,length:Math.min(sa,2)};oa[ra]=ta;pa[ra]=sa;}}v.getRepliesInRanges(this.id,oa,function(ua){for(var va=0;va<ma.length;va++){var wa=ma[va].id,xa=ua[wa]||[];for(var ya=0;ya<xa.length;ya++){if(xa[ya].author)na.push(xa[ya].author);if(xa[ya].socialcontext)na.push(xa[ya].socialcontext.topmutualid);}}r.getMulti(na,function(za){this.authorProfiles=za;this.feedback=ja;this.commentcounts[this.id]=ka;this.deletedcounts[this.id]=v.getDeletedCount(this.id);this.comments=ma;var ab={};ab[this.id]=la;for(var bb=0;bb<ma.length;bb++){var cb=ma[bb].id,db=oa[cb];this.repliesMap[cb]=ua[cb];ab[cb]=db;this.commentcounts[cb]=pa[cb];this.deletedcounts[cb]=v.getDeletedCount(cb);this.showRepliesMap[cb]=db&&db.length>0;}this.ranges=l.set(this.ranges,ab);ha(ia);if(ia==w.UFIPayloadSourceType.ENDPOINT_COMMENT_FETCH)g.inform('CommentUFI.Pager');}.bind(this));}.bind(this));}.bind(this));}.bind(this));},_changeRange:function(ha,ia){var ja={};ja[ha]=ia;this.ranges=l.set(this.ranges,ja);this.fetchAndUpdate(this.render.bind(this),w.UFIPayloadSourceType.USER_ACTION);},onPageletDestroy:function(ha,ia){if(k.contains(ia.pagelet_id,this.root)){p.destroyAndReleaseReactRootNode(this.root);this.ufiCentralUpdatesSubscriptions.forEach(u.unsubscribe.bind(u));g.unsubscribe(this.clearPageletSubscription);}}});e.exports=ga;});
__d("MultiBootstrapDataSource",["Class","DataSource"],function(a,b,c,d,e,f){var g=b('Class'),h=b('DataSource');function i(j){this._bootstrapEndpoints=j.bootstrapEndpoints;this.parent.construct(this,j);}g.extend(i,h);i.prototype.bootstrapWithoutToken=function(){for(var j=0;j<this._bootstrapEndpoints.length;j++)this.fetch(this._bootstrapEndpoints[j].endpoint,this._bootstrapEndpoints[j].data||{},{bootstrap:true});};e.exports=i;});
__d("XHPTemplate",["event-extensions","DataStore","DOM","HTML","copyProperties"],function(a,b,c,d,e,f){b('event-extensions');var g=b('DataStore'),h=b('DOM'),i=b('HTML'),j=b('copyProperties');function k(m){this._model=m;}j(k.prototype,{render:function(){if(i.isHTML(this._model))this._model=h.setContent(document.createDocumentFragment(),this._model)[0];return this._model.cloneNode(true);},build:function(){return new l(this.render());}});j(k,{getNode:function(m,n){return k.getNodes(m)[n];},getNodes:function(m){var n=g.get(m,'XHPTemplate:nodes');if(!n){n={};var o=h.scry(m,'[data-jsid]');o.push(m);var p=o.length;while(p--){var q=o[p];n[q.getAttribute('data-jsid')]=q;q.removeAttribute('data-jsid');}g.set(m,'XHPTemplate:nodes',n);}return n;}});function l(m){this._root=m;this._populateNodes();}j(l.prototype,{_populateNodes:function(){this._nodes={};this._leaves={};var m=this._root.getElementsByTagName('*');for(var n=0,o=m.length;n<o;n++){var p=m[n],q=p.getAttribute('data-jsid');if(q){p.removeAttribute('data-jsid');this._nodes[q]=p;this._leaves[q]=!p.childNodes.length;}}},getRoot:function(){return this._root;},getNode:function(m){return this._nodes[m];},setNodeProperty:function(m,n,o){this.getNode(m)[n]=o;return this;},setNodeContent:function(m,n){if(!this._leaves[m])throw new Error("Can't setContent on non-leaf node: "+m);h.setContent(this.getNode(m),n);return this;}});e.exports=k;});
__d("TouchEventUtils",[],function(a,b,c,d,e,f){var g={extractSingleTouch:function(h){var i=h.touches,j=h.changedTouches,k=i&&i.length>0,l=j&&j.length>0;return !k&&l?j[0]:k?i[0]:h;}};e.exports=g;});
__d("keyOf",[],function(a,b,c,d,e,f){var g=function(h){var i;for(i in h){if(!h.hasOwnProperty(i))continue;return i;}return null;};e.exports=g;});
__d("Accumulation",["throwIf"],function(a,b,c,d,e,f){var g=b('throwIf'),h='INVALID_ACCUM_ARGS';function i(l,m){var n=l==null,o=m===null;if(o){return l;}else if(n){return m;}else{var p=Array.isArray(l),q=Array.isArray(m);if(p){return l.concat(m);}else if(q){return [l].concat(m);}else return [l,m];}}var j=function(l,m,n){if(Array.isArray(l)){l.forEach(m,n);}else if(l)m.call(n,l);},k={accumulate:i,forEachItem:j};e.exports=k;});
__d("CallbackRegistry",[],function(a,b,c,d,e,f){var g={},h={putListener:function(i,j,k){var l=g[j]||(g[j]={});l[i]=k;},getListener:function(i,j){var k=g[j];return k&&k[i];},deleteListener:function(i,j){var k=g[j];if(k)delete k[i];},listenerBank:g};e.exports=h;});
__d("EventConstants",["keyMirror"],function(a,b,c,d,e,f){var g=b('keyMirror'),h=g({bubbled:null,captured:null}),i=g({topMouseMove:null,topMouseOver:null,topMouseOut:null,topMouseUp:null,topMouseDown:null,topClick:null,topDoubleClick:null,topTouchStart:null,topTouchEnd:null,topTouchMove:null,topTouchCancel:null,topKeyUp:null,topKeyPress:null,topKeyDown:null,topFocus:null,topBlur:null,topMouseWheel:null,topScroll:null,topChange:null}),j={topLevelTypes:i,PropagationPhases:h};e.exports=j;});
__d("EventPropagators",["Accumulation","CallbackRegistry","EventConstants"],function(a,b,c,d,e,f){var g=b('Accumulation'),h=b('CallbackRegistry'),i=b('EventConstants'),j=g.accumulate,k=g.forEachItem,l=h.getListener,m=i.PropagationPhases,n=null,o=null,p=null,q;function r(ba){n=ba;o=ba.traverseTwoPhase;p=ba.traverseEnterLeave;}function s(ba,ca,da){var ea=ca.type.phasedRegistrationNames[da];return l(ba,ea);}function t(ba,ca,da){var ea=ca?m.bubbled:m.captured,fa=s(ba,da,ea);if(fa){da._dispatchListeners=j(da._dispatchListeners,fa);da._dispatchIDs=j(da._dispatchIDs,ba);}}function u(ba){if(ba&&ba.type.phasedRegistrationNames){var ca=ba.abstractTargetID;o(ca,t,ba);}}function v(ba,ca,da){if(da&&da.type.registrationName){var ea=l(ba,da.type.registrationName);if(ea){da._dispatchListeners=j(da._dispatchListeners,ea);da._dispatchIDs=j(da._dispatchIDs,ba);}}}function w(ba){if(ba&&ba.type.registrationName)v(ba.abstractTargetID,null,ba);}function x(ba){k(ba,u);}function y(ba,ca,da,ea){p(da,ea,v,ba,ca);}function z(ba){k(ba,w);}var aa={accumulateTwoPhaseDispatches:x,accumulateDirectDispatches:z,accumulateEnterLeaveDispatches:y,injectInstanceHandleModule:r};e.exports=aa;});
__d("BrowserEnv",[],function(a,b,c,d,e,f){var g={currentScrollLeft:0,currentScrollTop:0,browserInfo:null,refreshAuthoritativeScrollValues:function(){g.currentScrollLeft=document.body.scrollLeft+document.documentElement.scrollLeft;g.currentScrollTop=document.body.scrollTop+document.documentElement.scrollTop;}};e.exports=g;});
__d("AbstractEvent",["BrowserEnv","TouchEventUtils","throwIf"],function(a,b,c,d,e,f){var g=b('BrowserEnv'),h=b('TouchEventUtils'),i=b('throwIf'),j=20,k='CLONE_TYPE_ERR',l=[];function m(n,o,p,q,r){this.type=n;this.abstractTargetID=o||'';this.originatingTopLevelEventType=p;this.nativeEvent=q;this.data=r;this.target=q&&q.target;this._dispatchListeners=null;this._dispatchIDs=null;}m.prototype.preventDefault=function(){m.preventDefaultOnNativeEvent(this.nativeEvent);};m.preventDefaultOnNativeEvent=function(n){if(n.preventDefault){n.preventDefault();}else n.returnValue=false;};m.normalizeScrollDataFromTarget=function(n){return {scrollTop:n.scrollTop,scrollLeft:n.scrollLeft,clientWidth:n.clientWidth,clientHeight:n.clientHeight,scrollHeight:n.scrollHeight,scrollWidth:n.scrollWidth};};m.normalizeMouseWheelData=function(n){var o=0,p=0,q=0;if(n.wheelDelta)o=n.wheelDelta/120;if(n.detail)o=-n.detail/3;q=o;if(n.axis!==undefined&&n.axis===n.HORIZONTAL_AXIS){q=0;p=-o;}if(n.wheelDeltaY!==undefined)q=n.wheelDeltaY/120;if(n.wheelDeltaX!==undefined)p=-n.wheelDeltaX/120;return {delta:o,deltaX:p,deltaY:q};};m.isNativeClickEventRightClick=function(n){return n.which?n.which===3:n.button?n.button===2:false;};m.normalizePointerData=function(n){return {globalX:m.eventPageX(n),globalY:m.eventPageY(n),rightMouseButton:m.isNativeClickEventRightClick(n)};};m.normalizeDragEventData=function(n,o,p,q,r){return {globalX:o,globalY:p,startX:q,startY:r};};m.eventPageY=function(n){var o=h.extractSingleTouch(n);if(o){return o.pageY;}else if(typeof n.pageY!=='undefined'){return n.pageY;}else return n.clientY+g.currentPageScrollTop;};m.eventPageX=function(n){var o=h.extractSingleTouch(n);if(o){return o.pageX;}else if(typeof n.pageX!=='undefined'){return n.pageX;}else return n.clientX+g.currentPageScrollLeft;};m.pooled=function(n,o,p,q,r){if(l.length){var s=l.pop();s.type=n;s.abstractTargetID=o||'';s.originatingTopLevelEventType=p;s.nativeEvent=q;s.data=r;s.target=q&&q.target;s._dispatchListeners=null;s._dispatchIDs=null;return s;}else return new m(n,o,p,q,r);};m.release=function(n){if(l.length<j){l.push(n);n.target=null;n._dispatchListeners=null;n._dispatchIDs=null;}};m.persistentCloneOf=function(n){return new m(n.type,n.abstractTargetID,n.originatingTopLevelEventType,n.nativeEvent,n.data,n.target);};e.exports=m;});
__d("ReactErrors",["keyMirror","throwIf"],function(a,b,c,d,e,f){var g=b('keyMirror'),h=b('throwIf'),i=g({CLASS_SPEC:null,CONTROL_WITHOUT_BACKING_DOM:null,NO_RENDER_NODE:null,USING_CHILD_TWICE:null,DUAL_TRANSACTION:null,MISSING_TRANSACTION:null,INVALID_STATE:null,ON_DOM_READY_MISMATCH:null,INVALID_COMPONENT:null,RUNAWAY_TREE:null,ESCAPE_TYPE:null,INVALID_HIERARCHY:null,INVALID_ID:null});i.throwIf=h;e.exports=i;});
__d("objMapKeyVal",[],function(a,b,c,d,e,f){var g=function(h,i,j){var k,l=0,m={};if(!h)return h;for(k in h){if(!h.hasOwnProperty(k))continue;m[k]=i.call(j,k,h[k],l++);}return m;};e.exports=g;});
__d("ReactBrowserUtils",["ReactErrors","objMapKeyVal"],function(a,b,c,d,e,f){var g=b('ReactErrors'),h=b('objMapKeyVal');function i(l){return {"&":"&amp;",">":"&gt;","<":"&lt;","\"":"&quot;","'":"&#x27;","/":"&#x2f;"}[l];}var j=document.createElement('div'),k={getSupportedStyleMap:function(){var l={},m;for(m in j.style)l[m]=k.escapeTextForBrowser(m);return l;},getContentAccessorKey:function(){return j.innerText!==undefined?'innerText':'textContent';},escapeTextForBrowser:function(l){g.throwIf((!l||!l.indexOf)&&isNaN(l),g.ESCAPE_TYPE);return (''+l).replace(/[&><"'\/]/g,i);},supportsEvent:function(l,m){var n=document.createElement('div'),o='on'+l,p=o in n,q=!!j.addEventListener;if(!p){if(!n.setAttribute)n=document.createElement('div');if(n.setAttribute&&n.removeAttribute){n.setAttribute(o,'');p=typeof n[o]==='function';if(typeof n[o]!=='undefined')n[o]=undefined;n.removeAttribute(o);}}n=null;return (m&&q||!m)&&p;}};e.exports=k;});
__d("DOMEventUtils",[],function(a,b,c,d,e,f){var g=function(j){var k=j||window.event,l='target' in k,m=k.target||k.srcElement||window,n=(m.nodeType===3)?m.parentNode:m;if(!l||k.target!==n)k.target=n;},h=function(j){return function(k){g(k);var l=k;j(l);};},i={listenOn:function(j,k,l){if(j.addEventListener){j.addEventListener(k,h(l),false);}else if(j.attachEvent)j.attachEvent('on'+k,h(l));},captureOn:function(j,k,l){j.addEventListener(k,h(l),true);}};e.exports=i;});
__d("EventPluginUtils",["EventConstants","AbstractEvent","ReactErrors","throwIf"],function(a,b,c,d,e,f){var g=b('EventConstants'),h=b('AbstractEvent'),i=b('ReactErrors'),j=b('throwIf'),k=g.topLevelTypes;function l(y){return y===k.topMouseUp||y===k.topTouchEnd||y===k.topTouchCancel;}function m(y){return y===k.topMouseMove||y===k.topTouchMove;}function n(y){return y===k.topMouseDown||y===k.topTouchStart;}function o(y,z){var aa=h.eventPageX(z),ba=h.eventPageY(z);y.pageX=aa;y.pageY=ba;}function p(y,z){var aa=h.eventPageX(z),ba=h.eventPageY(z);return Math.pow(Math.pow(aa-y.pageX,2)+Math.pow(ba-y.pageY,2),.5);}var q;function r(y,z){var aa=y._dispatchListeners,ba=y._dispatchIDs;if(Array.isArray(aa)){var ca;for(ca=0;ca<aa.length;ca++)z(y,aa[ca],ba[ca]);}else if(aa)z(y,aa,ba);}function s(y,z,aa){z(y,aa);}function t(y){r(y,s);y._dispatchListeners=null;y._dispatchIDs=null;}function u(y){var z=y._dispatchListeners,aa=y._dispatchIDs;if(Array.isArray(z)){var ba;for(ba=0;ba<z.length;ba++)if(z[ba](y,aa[ba]))return aa[ba];}else if(z)if(z(y,aa))return aa;return null;}function v(y){var z=y._dispatchListeners,aa=y._dispatchIDs;j(Array.isArray(z),i.DISPATCH_IDS_MISSING);var ba=z?z(y,aa):null;y._dispatchListeners=null;y._dispatchIDs=null;return ba;}function w(y){return !!y._dispatchListeners;}var x={isEndish:l,isMoveish:m,isStartish:n,storePageCoordsIn:o,eventDistance:p,executeDispatchesInOrder:t,executeDispatchesInOrderStopAtTrue:u,executeDirectDispatch:v,hasDispatches:w,forEachEventDispatch:r};e.exports=x;});
__d("EventPluginHub",["AbstractEvent","Accumulation","CallbackRegistry","EventPluginUtils","EventPropagators","throwIf"],function(a,b,c,d,e,f){var g=b('AbstractEvent'),h=b('Accumulation'),i=b('CallbackRegistry'),j=b('EventPluginUtils'),k=b('EventPropagators'),l=b('throwIf'),m=h.accumulate,n=i.deleteListener,o=h.forEachItem,p='DOUBLE_REGISTER',q='DOUBLE_ENQUEUE',r={},s=[],t=[],u=[];function v(da){var ea,fa=da.phasedRegistrationNames;if(fa){for(ea in fa){if(!fa.hasOwnProperty(ea))continue;r[fa[ea]]=true;s.push(fa[ea]);}}else if(da.registrationName){r[da.registrationName]=true;s.push(da.registrationName);}}var w=function(da){u.push(da);var ea;for(ea in da.abstractEventTypes){if(!da.abstractEventTypes.hasOwnProperty(ea))continue;var fa=da.abstractEventTypes[ea];v(fa);}},x=function(da){var ea;for(ea=0;ea<s.length;ea++)n(da,s[ea]);},y=function(da,ea,fa,ga){var ha,ia;for(ia=0;ia<u.length;ia++){var ja=u[ia].extractAbstractEvents(da,ea,fa,ga);if(ja)ha=m(ha,ja);}return ha;},z=function(da){if(da)t=m(t,da);},aa=function(da){if(da){j.executeDispatchesInOrder(da);g.release(da);}},ba=function(){var da=t;t=null;o(da,aa);},ca={registrationNames:r,registrationNamesArr:s,injectEventPlugin:w,putListener:i.putListener,getListener:i.getListener,deleteAllListeners:x,extractAbstractEvents:y,enqueueAbstractEvents:z,processAbstractEventQueue:ba,injectInstanceHandleModule:k.injectInstanceHandleModule};window.EventPluginHub=ca;e.exports=ca;});
__d("SimpleEventPlugin",["AbstractEvent","EventConstants","EventPropagators","keyOf"],function(a,b,c,d,e,f){var g=b('AbstractEvent'),h=b('EventConstants'),i=b('EventPropagators'),j=b('keyOf'),k=h.topLevelTypes,l={abstractEventTypes:{mouseDown:{phasedRegistrationNames:{bubbled:j({onMouseDown:true}),captured:j({onMouseDownCapture:true})}},mouseUp:{phasedRegistrationNames:{bubbled:j({onMouseUp:true}),captured:j({onMouseUpCapture:true})}},doubleClick:{phasedRegistrationNames:{bubbled:j({onDoubleClick:true}),captured:j({onDoubleClickCapture:true})}},click:{phasedRegistrationNames:{bubbled:j({onClick:true}),captured:j({onClickCapture:true})}},mouseWheel:{phasedRegistrationNames:{bubbled:j({onMouseWheel:true}),captured:j({onMouseWheelCapture:true})}},touchStart:{phasedRegistrationNames:{bubbled:j({onTouchStart:true}),captured:j({onTouchStartCapture:true})}},touchEnd:{phasedRegistrationNames:{bubbled:j({onTouchEnd:true}),captured:j({onTouchEndCapture:true})}},touchCancel:{phasedRegistrationNames:{bubbled:j({onTouchCancel:true}),captured:j({onTouchCancelCapture:true})}},touchMove:{phasedRegistrationNames:{bubbled:j({onTouchMove:true}),captured:j({onTouchMoveCapture:true})}},keyUp:{phasedRegistrationNames:{bubbled:j({onKeyUp:true}),captured:j({onKeyUpCapture:true})}},keyPress:{phasedRegistrationNames:{bubbled:j({onKeyPress:true}),captured:j({onKeyPressCapture:true})}},keyDown:{phasedRegistrationNames:{bubbled:j({onKeyDown:true}),captured:j({onKeyDownCapture:true})}},focus:{phasedRegistrationNames:{bubbled:j({onFocus:true}),captured:j({onFocusCapture:true})}},blur:{phasedRegistrationNames:{bubbled:j({onBlur:true}),captured:j({onBlurCapture:true})}},scroll:{phasedRegistrationNames:{bubbled:j({onScroll:true}),captured:j({onScrollCapture:true})}},change:{phasedRegistrationNames:{bubbled:j({onChange:true}),captured:j({onChangeCapture:true})}}},extractAbstractEvents:function(m,n,o,p){var q,r=l.topLevelTypesToAbstract[m];if(!r)return null;switch(m){case k.topMouseWheel:q=g.normalizeMouseWheelData(n);break;case k.topScroll:q=g.normalizeScrollDataFromTarget(p);break;case k.topClick:case k.topDoubleClick:case k.topChange:case k.topMouseDown:case k.topMouseUp:case k.topTouchMove:case k.topTouchStart:case k.topTouchEnd:q=g.normalizePointerData(n);break;default:q=null;}var s=g.pooled(r,o,m,n,q);i.accumulateTwoPhaseDispatches(s);return s;}};l.topLevelTypesToAbstract={topMouseDown:l.abstractEventTypes.mouseDown,topMouseUp:l.abstractEventTypes.mouseUp,topClick:l.abstractEventTypes.click,topDoubleClick:l.abstractEventTypes.doubleClick,topMouseWheel:l.abstractEventTypes.mouseWheel,topTouchStart:l.abstractEventTypes.touchStart,topTouchEnd:l.abstractEventTypes.touchEnd,topTouchMove:l.abstractEventTypes.touchMove,topTouchCancel:l.abstractEventTypes.touchCancel,topKeyUp:l.abstractEventTypes.keyUp,topKeyPress:l.abstractEventTypes.keyPress,topKeyDown:l.abstractEventTypes.keyDown,topFocus:l.abstractEventTypes.focus,topBlur:l.abstractEventTypes.blur,topScroll:l.abstractEventTypes.scroll,topChange:l.abstractEventTypes.change};e.exports=l;});
__d("EnterLeaveEventPlugin",["EventPropagators","AbstractEvent","ReactDOMUtils","EventConstants","ReactInstanceHandles","keyOf"],function(a,b,c,d,e,f){var g=b('EventPropagators'),h=b('AbstractEvent'),i=b('ReactDOMUtils'),j=b('EventConstants'),k=b('ReactInstanceHandles'),l=b('keyOf'),m=j.topLevelTypes,n=k.getFirstReactDOM,o={mouseEnter:{registrationName:l({onMouseEnter:null})},mouseLeave:{registrationName:l({onMouseLeave:null})}},p=function(r,s,t,u){if(r===m.topMouseOver&&(s.relatedTarget||s.fromElement))return;if(r!==m.topMouseOut&&r!==m.topMouseOver)return null;var v=r===m.topMouseOut?n(s.relatedTarget||s.toElement):u,w=r===m.topMouseOut?u:window;if(w===v)return;var x=w?i.getDOMNodeID(w):'',y=v?i.getDOMNodeID(v):'',z=h.pooled(o.mouseLeave,x,r,s),aa=h.pooled(o.mouseEnter,y,r,s);g.accumulateEnterLeaveDispatches(z,aa,x,y);return [aa,z];},q={abstractEventTypes:o,extractAbstractEvents:p};e.exports=q;});
__d("ReactInstanceHandles",["ReactErrors","ReactDOMUtils","throwIf"],function(a,b,c,d,e,f){var g=b('ReactErrors'),h=b('ReactDOMUtils'),i=b('throwIf'),j='.',k=j.length,l=100,m;function n(ba,ca){return ba.charAt(ca)===j||ca===ba.length;}function o(ba){var ca=ba===''||(ba.charAt(0)===j&&ba.charAt(ba.length-1)!==j);i(!ca,g.INVALID_ID);}var p=function(ba){var ca=h.getDOMNodeID(ba);return ca&&ca.charAt(0)===j;},q=function(ba){var ca=ba;while(ca&&ca.parentNode!==ca&&!p(ca))ca=ca.parentNode;return ca||window;},r=function(ba,ca){var da=ba.firstChild;while(da){if(ca==da.id){return da;}else if(ca.indexOf(da.id)===0)return r(da,ca);da=da.nextSibling;}},s=function(ba,ca){var da=0,ea=0,fa=Math.min(ba.length,ca.length);if(ba===''||ca==='')return '';for(da=0;da<=fa;da++)if(n(ba,da)&&n(ca,da)){ea=da;}else if(ba.charAt(da)!==ca.charAt(da))break;var ga=ba.substr(0,ea);return ga;},t=function(ba){return '.reactRoot['+ba+']';},u=function(ba){var ca=/\.reactRoot\[[0-9]+\]/.exec(ba);return ca&&ca[0];},v=function(ba){if(!ba||!ba.length)return '';var ca=ba.lastIndexOf(".");return ba.substr(0,ca);},w=function(ba,ca){if(ba===ca)return ba;var da=ba.length+k,ea;for(ea=da;ea<=ca.length;ea++)if(n(ca,ea))return ca.substr(0,ea);i(true,g.INVALID_ID);},x=function(ba,ca,da,ea,fa,ga){ba=ba||'';ca=ca||'';var ha=s(ba,ca),ia=ha===ca,ja=ha===ba,ka=ba,la=false,ma=0;if(ia){while(!la){if((ma!==0||!fa)&&(ka!==ca||!ga))da(ka,true,ea);la=ka===ca;ka=v(ka);i(ma++>l,g.RUNAWAY_TREE);}}else if(ja)while(!la){if((ma!==0||!fa)&&(ka!==ca||!ga))da(ka,false,ea);la=ka===ca;ka=w(ka,ca);i(ma++>l,g.RUNAWAY_TREE);}},y=function(ba,ca,da){if(ba){x('',ba,ca,da,true,false);x(ba,'',ca,da,false,true);}},z=function(ba,ca,da,ea,fa){var ga=s(ba,ca);if(ga!==ba)x(ba,ga,da,ea,false,true);if(ga!==ca)x(ga,ca,da,fa,true,false);},aa={separator:j,getFirstReactDOM:q,findComponentRoot:r,getFirstCommonAncestorID:s,getReactRootID:t,getReactRootIDFromNodeID:u,traverseEnterLeave:z,traverseTwoPhase:y,nextDescendantID:w};e.exports=aa;});
__d("ReactDOMAttributes",["ReactBrowserUtils","ReactEvent","objMapKeyVal"],function(a,b,c,d,e,f){var g=b('ReactBrowserUtils'),h=b('ReactEvent'),i=b('objMapKeyVal'),j=function(r){return r;},k=g.getContentAccessorKey(),l=g.getSupportedStyleMap(),m=function(r){return r.replace(/[A-Z]/g,function(s){return '-'+s.toLowerCase();});},n=function(r,s,t){return i(t,function(u,v){return r+v(u)+s;});},o=i(l,function(){return m;}),p={className:function(){return 'class';},margin:m,marginRight:m,marginLeft:m,tabIndex:j,marginTop:m,marginBottom:m,padding:m,paddingRight:m,paddingLeft:m,paddingTop:m,paddingBottom:m,dir:j,width:j,height:j,alt:j,src:j,value:j,checked:j,href:j,placeholder:j,title:j,selected:j,target:j,scrollTop:j,scrollLeft:j,name:j,type:j,htmlFor:j,rel:j,ajaxify:j,allowfullscreen:j,allowscriptaccess:j,wmode:j,contentEditable:j,x1:j,x2:j,y1:j,y2:j,transform:j,opacity:j,'stroke-width':j,'stroke-linecap':j,stroke:j},q={CONTENT_ACCESSOR_KEY:k,customAttrRegexp:/^(data|aria)-[a-z_][a-z\d_.\-]*$/,styleFeatureNames:n(';',':',o),allTagAttrPieces:n(' ','=\'',p),cssNumber:{textDecoration:true,zoom:true,fillOpacity:true,fontWeight:true,opacity:true,orphans:true,zIndex:true,outline:true},controlSimply:{className:true,scrollTop:true,scrollLeft:true,title:true,rows:true,cols:true,size:true},controlDirectlyNonIdempotent:{value:true,src:true,checked:true,selected:true,rel:true},controlUsingSetAttr:{ajaxify:true,margin:true,marginRight:true,marginLeft:true,marginTop:true,marginBottom:true,padding:true,paddingRight:true,paddingLeft:true,paddingTop:true,paddingBottom:true,width:true,height:true,href:true,placeholder:true,target:true}};e.exports=q;});
__d("ReactDOMUtils",["ReactBrowserUtils","ReactDOMAttributes"],function(a,b,c,d,e,f){var g=b('ReactBrowserUtils'),h=b('ReactDOMAttributes'),i=h.cssNumber,j=g.escapeTextForBrowser,k=h.styleFeatureNames;function l(t,u,v){if(v){if(v.nextSibling){return t.insertBefore(u,v.nextSibling);}else return t.appendChild(u);}else return t.insertBefore(u,t.firstChild);}function m(t,u,v){var w,x,y=u.length;for(x=0;x<y;x++)w=l(t,u[0],w||v);return w;}function n(t,u,v){if(!u)return 0;var w=document.createElement(t?t.tagName:'div');w.innerHTML=u;var x=w.childNodes,y=x.length,z=v?t.childNodes[v-1]:null;m(t,x,z);return y;}function o(t,u,v){var w=t.childNodes;if(u.parentNode)u.parentNode.removeChild(u);if(v>=w.length){t.appendChild(u);}else t.insertBefore(u,w[v]);return u;}function p(t,u){if(!isNaN(u))return i[t]?u:(j(u)+'px');return (u!==0&&!u)?'':u;}function q(t){var u='',v;for(v in t){if(!t.hasOwnProperty(v))continue;var w=t[v];if(w!==undefined)u+=k[v]+p(v,w);}return u;}function r(t){if(t.getAttributeNode){var u=t.getAttributeNode('id');return u&&u.value||'';}else return t.id||'';}var s={insertNodeAfterNode:l,insertNodeAt:o,insertMarkupAt:n,serializeInlineStyle:q,getDOMNodeID:r};e.exports=s;});
__d("ReactEvent",["BrowserEnv","DOMEventUtils","EventConstants","EventPluginHub","ReactBrowserUtils","ReactDOMUtils","ReactInstanceHandles","EnterLeaveEventPlugin","SimpleEventPlugin"],function(a,b,c,d,e,f){var g=b('BrowserEnv'),h=b('DOMEventUtils'),i=b('EventConstants'),j=b('EventPluginHub'),k=b('ReactBrowserUtils'),l=b('ReactDOMUtils'),m=b('ReactInstanceHandles'),n=b('EnterLeaveEventPlugin'),o=b('SimpleEventPlugin'),p=j.registrationNames,q=l.getDOMNodeID,r=i.topLevelTypes,s=h.listenOn,t=h.captureOn;j.injectEventPlugin(o);j.injectEventPlugin(n);j.injectInstanceHandleModule(m);var u={},v=true;function w(ha){return function(ia){if(v){var ja=m.getFirstReactDOM(ia.target),ka=q(ja);ca(ha,ia,ka,ja);}};}function x(ha,ia,ja){s(ja,ia,w(ha));}function y(ha,ia,ja){t(ja,ia,w(ha));}function z(){s(window,'scroll',function(ha){if(ha.target===window)g.refreshAuthoritativeScrollValues();});}function aa(){s(window,'resize',function(ha){if(ha.target===window)g.refreshAuthoritativeScrollValues();});}function ba(ha,ia){z();aa();x(r.topMouseOver,'mouseover',ha);x(r.topMouseDown,'mousedown',ha);x(r.topMouseUp,'mouseup',ha);x(r.topMouseOut,'mouseout',ha);x(r.topClick,'click',ha);x(r.topDoubleClick,'dblclick',ha);x(r.topMouseWheel,'mousewheel',ha);if(ia){x(r.topTouchStart,'touchstart',ha);x(r.topTouchEnd,'touchend',ha);x(r.topTouchMove,'touchmove',ha);x(r.topTouchCancel,'touchcancel',ha);}x(r.topKeyUp,'keyup',ha);x(r.topKeyPress,'keypress',ha);x(r.topKeyDown,'keydown',ha);x(r.topChange,'change',ha);x(r.topMouseWheel,'DOMMouseScroll',ha);x(r.topScroll,'scroll',ha);if(k.supportsEvent('focusin')){x(r.topFocus,'focusin',ha);x(r.topBlur,'focusout',ha);}else if(k.supportsEvent('focus',true)){y(r.topFocus,'focus',ha);y(r.topBlur,'blur',ha);}}function ca(ha,ia,ja,ka){var la=j.extractAbstractEvents(ha,ia,ja,ka);j.enqueueAbstractEvents(la);j.processAbstractEventQueue();}function da(ha){v=!!ha;}function ea(){return v;}function fa(ha,ia){if(!u[ha.id]){ba(ha,ia);u[ha.id]=true;}}var ga={setEnabled:da,isEnabled:ea,ensureListening:fa,registrationNames:p,putListener:j.putListener,getListener:j.getListener,deleteAllListeners:j.deleteAllListeners};e.exports=ga;});
__d("ReactInputSelection",[],function(a,b,c,d,e,f){var g={hasSelectionCapabilities:function(h){return h&&((h.nodeName==='INPUT'&&h.type==='text'||h.nodeName==='TEXTAREA'));},getSelectionInformation:function(){var h=document.activeElement;return {focusedElem:h,selectionRange:g.hasSelectionCapabilities(h)?g.getSelection(h):null};},restoreSelection:function(h){var i=document.activeElement,j=h.focusedElem,k=h.selectionRange;if(i!==j&&document.getElementById(j.id)){if(g.hasSelectionCapabilities(j))g.setSelection(j,k);j.focus();}},getSelection:function(h){if(!document.selection)return {start:h.selectionStart,end:h.selectionEnd};var i=document.selection.createRange();if(i.parentElement()!==h)return {start:0,end:0};var j=h.value.length;if(h.nodeName==='INPUT'){return {start:-i.moveStart('character',-j),end:-i.moveEnd('character',-j)};}else{var k=i.duplicate();k.moveToElementText(h);k.setEndPoint('StartToEnd',i);var l=j-k.text.length;k.setEndPoint('StartToStart',i);return {start:j-k.text.length,end:l};}},setSelection:function(h,i){var j=i.start,k=i.end;if(typeof k==='undefined')k=j;if(document.selection){if(h.tagName==='TEXTAREA'){var l=(h.value.slice(0,j).match(/\r/g)||[]).length,m=(h.value.slice(j,k).match(/\r/g)||[]).length;j-=l;k-=l+m;}var n=h.createTextRange();n.collapse(true);n.moveStart('character',j);n.moveEnd('character',k-j);n.select();}else{h.selectionStart=j;h.selectionEnd=Math.min(k,h.value.length);h.focus();}}};e.exports=g;});
__d("ReactOnDOMReady",["ReactErrors"],function(a,b,c,d,e,f){var g=b('ReactErrors'),h=null,i={enqueue:function(j,k){g.throwIf(!h,g.ON_DOM_READY_MISMATCH);h.push({instance:j,callback:k});},beginEnqueueing:function(){g.throwIf(h,g.ON_DOM_READY_MISMATCH);h=[];},notifyAll:function(){var j=h,k=j.length;g.throwIf(!j,g.ON_DOM_READY_MISMATCH);h=null;for(var l=0;l<k;l=l+1){var m=j[l].instance,n=j[l].callback;n.call(m,m.getDOMNode());}j.length=0;}};e.exports=i;});
__d("ReactDOMTransaction",["ReactErrors","ReactEvent","ReactInputSelection","ReactOnDOMReady"],function(a,b,c,d,e,f){var g=b('ReactErrors'),h=b('ReactEvent'),i=b('ReactInputSelection'),j=b('ReactOnDOMReady'),k=null,l={totalOnDomReadyTime:0,perform:function(m,n){l.initialize();try{m.call(n);}catch(o){throw o;}finally{l.close();}},initialize:function(){g.throwIf(k,g.DUAL_TRANSACTION);h.setEnabled(false);j.beginEnqueueing();k={selectionInformation:i.getSelectionInformation()};},close:function(){g.throwIf(!k,g.MISSING_TRANSACTION);i.restoreSelection(k.selectionInformation);h.setEnabled(true);k=null;var m=Date.now();j.notifyAll();l.totalOnDomReadyTime+=(Date.now()-m);}};e.exports=l;});
__d("ReactMount",["ReactErrors","ReactEvent","ReactInstanceHandles"],function(a,b,c,d,e,f){var g=b('ReactErrors'),h=b('ReactEvent'),i=b('ReactInstanceHandles'),j=0,k={instanceByReactRootId:{},containersByReactRootId:{},totalInstantiationTime:0,totalInjectionTime:0,useTouchEvents:false,scrollMonitor:function(l,m){return m();},prepareForRendering:function(l){h.ensureListening(l,k.useTouchEvents);},renderComponent:function(l,m){g.throwIf(!m,g.NO_RENDER_NODE);k.prepareForRendering(document.documentElement);k.renderMarkupIntoNode(l,m);return l;},constructAndRenderComponent:function(l,m,n){k.renderComponent(l(m),n);},renderMarkupIntoNode:function(l,m){var n=this.registerContainer(m);k.instanceByReactRootId[n]=l;l.genMarkupIntoContainer(n,m);},registerContainer:function(l){var m=i.getReactRootID(j);k.containersByReactRootId[m]=l;j++;return m;},destroyAndReleaseReactRootNode:function(l){var m=k.getInstanceHeldByContainer(l),n=l.firstChild&&l.firstChild.id;m.destroy();delete k.instanceByReactRootId[n];delete k.containersByReactRootId[n];l.innerHTML='';},getInstanceHeldByContainer:function(l){var m=k.instanceByReactRootId[l.firstChild&&l.firstChild.id];return m;},findReactContainerForId:function(l){return k.containersByReactRootId[i.getReactRootIDFromNodeID(l)];},renderOrUpdateComponent:function(l,m){var n=k.getInstanceHeldByContainer(m);if(n){var o=n.updateAllProps.bind(n,l.props);k.scrollMonitor(m,o);return n;}else return k.renderComponent(l,m);}};e.exports=k;});
__d("ReactComponent",["ReactDOMTransaction","ReactErrors","ReactInstanceHandles","ReactMount","merge"],function(a,b,c,d,e,f){var g=b('ReactDOMTransaction'),h=b('ReactErrors'),i=b('ReactInstanceHandles'),j=b('ReactMount'),k=b('merge'),l={currentlyConstructingOwner:null,isValidComponent:function(m){return (m&&typeof m.genMarkupIntoContainer==='function'&&typeof m.updateAllProps==='function');},validateReactComponentInstance:function(m){h.throwIf(!l.isValidComponent(m),h.INVALID_COMPONENT);},ReactComponentMixin:{getDOMNode:function(){var m=this.rootDomNode;if(!m){m=document.getElementById(this._rootDomId);if(!m){var n=j.findReactContainerForId(this._rootDomId);m=i.findComponentRoot(n,this._rootDomId);}}return (this.rootDomNode=m);},captureOwnerAtConstruction:function(){var m=this.props;if(m.ref)m.owner=l.currentlyConstructingOwner;},attachOwnersRefsOnRender:function(){var m=this.props;if(m.ref)m.owner.attachRef(m.ref,this);},detachOwnersRefs:function(){var m=this.props;if(m.ref&&m.owner.refs[m.ref]===this)m.owner.detachRef(m.ref);},destroyComponent:function(){this.detachOwnersRefs();this.isDestroyed=true;},detachFromDom:function(){var m=this.getDOMNode();m.parentNode.removeChild(m);},destroyAndDetachFromDom:function(){this.destroy();this.detachFromDom();},initializeComponent:function(m){this._rootDomId=m;this.attachOwnersRefsOnRender();},handleGenMarkup:function(){},handleUpdateAllProps:function(){},updateProps:function(m){this.updateAllProps(k(this.props,m));},updateAllProps:function(m){if(m.isStatic)return;g.perform(this.handleUpdateAllProps.bind(this,m));},genMarkupIntoContainer:function(m,n){g.perform(this.genMarkupIntoContainerImpl.bind(this,m,n));},genMarkupIntoContainerImpl:function(m,n){var o=Date.now(),p=this.handleGenMarkup(m);j.totalInstantiationTime+=(Date.now()-o);var q=Date.now(),r=n.nextSibling,s=n.parentNode;if(s){s.removeChild(n);n.innerHTML=p;if(r){s.insertBefore(n,r);}else s.appendChild(n);}else n.innerHTML=p;j.totalInjectionTime+=(Date.now()-q);},handleUpdateAllPropsComponent:function(m){var n=this.props,o=this.rootDomId;h.throwIf(o,h.CONTROL_WITHOUT_BACKING_DOM);if(m.owner===n.owner&&m.ref===n.ref)return;this.detachOwnersRefs();if(m.ref)m.owner.attachRef(m.ref,this);}}};e.exports=l;});
__d("ReactOwner",[],function(a,b,c,d,e,f){var g={attachRef:function(h,i){var j=this.refs||(this.refs={});j[h]=i;},detachRef:function(h){delete this.refs[h];}};e.exports=g;});
__d("mergeDeepInto",["keyMirror","mergeHelpers","throwIf"],function(a,b,c,d,e,f){var g=b('keyMirror'),h=b('mergeHelpers'),i=b('throwIf'),j=h.ArrayStrategies,k=h.checkArrayStrategy,l=h.checkMergeArrayArgs,m=h.checkMergeLevel,n=h.checkMergeObjectArgs,o=h.isTerminal,p=h.normalizeMergeArg,q=g({RUN_TIME_ARRAY_MERGE_FAIL:null}),r=function(v,w,x,y){n(v,w);m(y);var z=w?Object.keys(w):[];for(var aa=0;aa<z.length;aa++){var ba=z[aa];t(v,w,ba,x,y);}},s=function(v,w,x,y){l(v,w);m(y);var z=Math.max(v.length,w.length);for(var aa=0;aa<z;aa++)t(v,w,aa,x,y);},t=function(v,w,x,y,z){var aa=w[x],ba=w.hasOwnProperty(x),ca=ba&&o(aa),da=ba&&Array.isArray(aa),ea=ba&&!da&&!da,fa=v[x],ga=v.hasOwnProperty(x),ha=ga&&o(fa),ia=ga&&Array.isArray(fa),ja=ga&&!ia&&!ia;if(ha){if(ca){v[x]=aa;}else if(da){v[x]=[];s(v[x],aa,y,z+1);}else if(ea){v[x]={};r(v[x],aa,y,z+1);}else if(!ba)v[x]=fa;}else if(ia){if(ca){v[x]=aa;}else if(da){i(!j[y],h.ERRORS.RUN_TIME_ARRAY_MERGE_FAIL);if(y===j.Clobber)fa.length=0;s(fa,aa,y,z+1);}else if(ea){v[x]={};r(v[x],aa,y,z+1);}else !ba;}else if(ja){if(ca){v[x]=aa;}else if(da){v[x]=[];s(v[x],aa,y,z+1);}else if(ea){r(fa,aa,y,z+1);}else !ba;}else if(!ga)if(ca){v[x]=aa;}else if(da){v[x]=[];s(v[x],aa,y,z+1);}else if(ea){v[x]={};r(v[x],aa,y,z+1);}else !ba;},u=function(v,w,x){var y=p(w);k(x);r(v,y,x,0);};e.exports=u;});
__d("mergeInto",["mergeHelpers"],function(a,b,c,d,e,f){var g=b('mergeHelpers'),h=g.checkMergeObjectArgs,i=g.normalizeMergeArg,j=function(k,l){var m=i(l),n;h(k,m);for(n in m){if(!m.hasOwnProperty(n))continue;k[n]=m[n];}};e.exports=j;});
__d("mixInto",[],function(a,b,c,d,e,f){var g=function(h,i){var j;for(j in i){if(!i.hasOwnProperty(j))continue;h.prototype[j]=i[j];}};e.exports=g;});
__d("ReactCompositeComponent",["ReactComponent","ReactDOMTransaction","ReactDOMUtils","ReactErrors","ReactOnDOMReady","ReactOwner","keyOf","mergeDeepInto","mergeHelpers","mergeInto","mixInto"],function(a,b,c,d,e,f){var g=b('ReactComponent'),h=b('ReactDOMTransaction'),i=b('ReactDOMUtils'),j=b('ReactErrors'),k=b('ReactOnDOMReady'),l=b('ReactOwner'),m=b('keyOf'),n=b('mergeDeepInto'),o=b('mergeHelpers'),p=b('mergeInto'),q=b('mixInto'),r=i.insertMarkupAt,s=o.isTerminal,t=Array.prototype.slice,u={render:function(){},handleUpdateAllProps:function(w){this.handleUpdateAllPropsComponent(w);if(this.propTrigger){var x=this.propTrigger(w);if(x)p(this.state,x);}if(this.needsRedraw&&!this.needsRedraw(w))return;this.props=w;this.handleReconcile();},initializeCompositeComponent:function(w){if(this.getInitialState)this.state=this.getInitialState();this.onDomReady&&k.enqueue(this,this.onDomReady);},handleGenMarkup:function(w){this.initializeComponent(w);this.initializeCompositeComponent(w);g.currentlyConstructingOwner=this;var x=this.getAllRenderResults(),y=this.handleGenMarkupResults(x);g.currentlyConstructingOwner=null;g.validateReactComponentInstance(y);this.renderedChild=y;return y.handleGenMarkup(w);},getAllRenderResults:function(){return this.render();},handleGenMarkupResults:function(w){return w;},destroy:function(){this.destroyComponent();if(this.destructor)this.destructor();this.renderedChild.destroy();this.renderedChild=null;if(this.refs)this.refs=null;},justUpdateState:function(w){h.perform(function(){p(this.state,w);},this);},justUpdateStateDeep:function(w){h.perform(function(){n(this.state,w);},this);},updateState:function(w){h.perform(function(){p(this.state,w);this.handleReconcile();},this);return true;},updateStateDeep:function(w){h.perform(function(){n(this.state,w);this.handleReconcile();},this);return true;},createStateUpdater:function(w){var x=this;if(!w)return w;return function(){x.updateState(w);};},stateUpdater:function(w){var x=this;if(!w)return w;return (typeof w==='function')?function(){x.updateState(w.apply(x,arguments));}:function(){x.updateState(w);};},stateValueForwarder:function(w){var x=this;return function(y){var z=m(w),aa={};if(z){aa[z]=y;x.updateState(aa);}};},stateUpdaterCurry:function(w){var x=this,y=t.call(arguments,1);return function(){x.updateState(w.apply(x,y.concat(t.call(arguments))));};},reconcile:function(){h.perform(this.handleReconcile,this);},handleReconcile:function(){g.currentlyConstructingOwner=this;var w=this.getAllRenderResults();g.currentlyConstructingOwner=null;var x=this.reconcileResults(w);g.validateReactComponentInstance(x);if(!x.props.isStatic){var y=this.renderedChild;if(y.constructor===x.constructor){y.handleUpdateAllProps(x.props);}else{var z=x.handleGenMarkup(this._rootDomId),aa=y.getDOMNode(),ba=aa.parentNode;y.destroyAndDetachFromDom();r(ba,z,0);this.renderedChild=x;}}},reconcileResults:function(w){return w;}},v={createComponentConstructor:function(w){var x=w.mixins,y=function(aa){this.props=aa||{};this.captureOwnerAtConstruction();};q(y,g.ReactComponentMixin);q(y,u);q(y,l);if(x){var z;for(z=0;z<x.length;z++)q(y,x[z]);}q(y,w);j.throwIf(!y.prototype.render,j.CLASS_SPEC);return y;},createComponent:function(w){var x=v.createComponentConstructor(w),y=function(z){return new x(z);};y.componentConstructor=x;y.originalSpec=w;return y;},ReactCompositeComponentMixin:u};e.exports=v;});
__d("React",["ReactCompositeComponent","ReactMount"],function(a,b,c,d,e,f){var g=b('ReactCompositeComponent'),h=b('ReactMount'),i={initializeTouchEvents:function(j){h.useTouchEvents=j;},createComponent:g.createComponent,constructAndRenderComponent:h.constructAndRenderComponent,renderComponent:h.renderComponent,renderOrUpdateComponent:h.renderOrUpdateComponent,destroyAndReleaseReactRootNode:h.destroyAndReleaseReactRootNode};e.exports=i;});